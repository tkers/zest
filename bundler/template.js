const zest_template = atob(`
PCFET0NUWVBFIGh0bWw+PGh0bWwgbGFuZz0iZW4iPjxoZWFkPjx0aXRsZT57e1RJVExFfX08L3RpdGxlPjxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPjxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIHZpZXdwb3J0LWZpdD1jb3ZlciIgLz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPmh0bWwsCmJvZHkgewogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwogIGhlaWdodDogMTAwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjODA4MDgwOwp9CgptYWluIHsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKICBoZWlnaHQ6IDEwMCU7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgpjYW52YXMjbGNkIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzEyZjI4OwogIG1peC1ibGVuZC1tb2RlOiBoYXJkLWxpZ2h0OwogIGltYWdlLXJlbmRlcmluZzogcGl4ZWxhdGVkOwoKICBkaXNwbGF5OiBibG9jazsKICBvYmplY3QtZml0OiBjb250YWluOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBhc3BlY3QtcmF0aW86IGF1dG8gMjAwLzEyMDsKCiAgdG91Y2gtYWN0aW9uOiBub25lOwp9CgptYWluOjphZnRlciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGluc2V0OiAwOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBjb250ZW50OiAnXDI1QjZcRkUwRSc7CiAgZm9udC1zaXplOiAyMHZtaW47CiAgY29sb3I6ICNmZmZmZmZmZjsKICB0ZXh0LXNoYWRvdzogMCAwIDMycHggIzAwMDAwMDsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNzUpOwogIHRyYW5zaXRpb246IGZvbnQtc2l6ZSA4MG1zIGVhc2Utb3V0OwogIGN1cnNvcjogcG9pbnRlcjsKfQptYWluOmhvdmVyOjphZnRlciB7CiAgZm9udC1zaXplOiAyNHZtaW47Cn0KbWFpbjphY3RpdmU6OmFmdGVyIHsKICBmb250LXNpemU6IDIydm1pbjsKfQptYWluLmNsaWNrZWQ6OmFmdGVyIHsKICBkaXNwbGF5OiBub25lOwp9Cjwvc3R5bGU+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPmNvbnN0IGdhbWVEYXRhID0ge3tHQU1FfX07CiAgY29uc3QgRlJFUT1bMTYuMzUxNTk3ODMxMjg3NDE0LDE3LjMyMzkxNDQzNjA1NDUwNSwxOC4zNTQwNDc5OTQ4Mzc5NzcsMTkuNDQ1NDM2NDgyNjMwMDU0LDIwLjYwMTcyMjMwNzA1NDM2NiwyMS44MjY3NjQ0NjQ1NjI3NDYsMjMuMTI0NjUxNDE5NDc3MTU0LDI0LjQ5OTcxNDc0ODg1OTMyNiwyNS45NTY1NDM1OTg3NDY1NzQsMjcuNSwyOS4xMzUyMzUwOTQ4ODA2MiwzMC44Njc3MDYzMjg1MDc3NSwzMi43MDMxOTU2NjI1NzQ4MywzNC42NDc4Mjg4NzIxMDkwMiwzNi43MDgwOTU5ODk2NzU5NCwzOC44OTA4NzI5NjUyNjAxMSw0MS4yMDM0NDQ2MTQxMDg3NCw0My42NTM1Mjg5MjkxMjU0ODYsNDYuMjQ5MzAyODM4OTU0MzEsNDguOTk5NDI5NDk3NzE4NjY2LDUxLjkxMzA4NzE5NzQ5MzE0LDU1LDU4LjI3MDQ3MDE4OTc2MTI0LDYxLjczNTQxMjY1NzAxNTUsNjUuNDA2MzkxMzI1MTQ5NjYsNjkuMjk1NjU3NzQ0MjE4MDMsNzMuNDE2MTkxOTc5MzUxODgsNzcuNzgxNzQ1OTMwNTIwMjIsODIuNDA2ODg5MjI4MjE3NDgsODcuMzA3MDU3ODU4MjUwOTcsOTIuNDk4NjA1Njc3OTA4NjEsOTcuOTk4ODU4OTk1NDM3MzMsMTAzLjgyNjE3NDM5NDk4NjI4LDExMCwxMTYuNTQwOTQwMzc5NTIyNDgsMTIzLjQ3MDgyNTMxNDAzMTAzLDEzMC44MTI3ODI2NTAyOTkzLDEzOC41OTEzMTU0ODg0MzYwNCwxNDYuODMyMzgzOTU4NzAzOCwxNTUuNTYzNDkxODYxMDQwNDMsMTY0LjgxMzc3ODQ1NjQzNDk2LDE3NC42MTQxMTU3MTY1MDE5NCwxODQuOTk3MjExMzU1ODE3MjMsMTk1Ljk5NzcxNzk5MDg3NDYzLDIwNy42NTIzNDg3ODk5NzI1NiwyMjAsMjMzLjA4MTg4MDc1OTA0NDk2LDI0Ni45NDE2NTA2MjgwNjIwNiwyNjEuNjI1NTY1MzAwNTk4NiwyNzcuMTgyNjMwOTc2ODcyMSwyOTMuNjY0NzY3OTE3NDA3NiwzMTEuMTI2OTgzNzIyMDgwODcsMzI5LjYyNzU1NjkxMjg2OTksMzQ5LjIyODIzMTQzMzAwMzksMzY5Ljk5NDQyMjcxMTYzNDQ2LDM5MS45OTU0MzU5ODE3NDkyNyw0MTUuMzA0Njk3NTc5OTQ1MSw0NDAsNDY2LjE2Mzc2MTUxODA4OTksNDkzLjg4MzMwMTI1NjEyNDEsNTIzLjI1MTEzMDYwMTE5NzIsNTU0LjM2NTI2MTk1Mzc0NDIsNTg3LjMyOTUzNTgzNDgxNTEsNjIyLjI1Mzk2NzQ0NDE2MTgsNjU5LjI1NTExMzgyNTczOTgsNjk4LjQ1NjQ2Mjg2NjAwNzgsNzM5Ljk4ODg0NTQyMzI2ODksNzgzLjk5MDg3MTk2MzQ5ODYsODMwLjYwOTM5NTE1OTg5MDMsODgwLDkzMi4zMjc1MjMwMzYxNzk5LDk4Ny43NjY2MDI1MTIyNDgzLDEwNDYuNTAyMjYxMjAyMzk0NSwxMTA4LjczMDUyMzkwNzQ4ODMsMTE3NC42NTkwNzE2Njk2MzAzLDEyNDQuNTA3OTM0ODg4MzIzNSwxMzE4LjUxMDIyNzY1MTQ3OTcsMTM5Ni45MTI5MjU3MzIwMTU1LDE0NzkuOTc3NjkwODQ2NTM3OCwxNTY3Ljk4MTc0MzkyNjk5NywxNjYxLjIxODc5MDMxOTc4MDUsMTc2MCwxODY0LjY1NTA0NjA3MjM1OTcsMTk3NS41MzMyMDUwMjQ0OTYsMjA5My4wMDQ1MjI0MDQ3ODksMjIxNy40NjEwNDc4MTQ5NzcsMjM0OS4zMTgxNDMzMzkyNiwyNDg5LjAxNTg2OTc3NjY0NywyNjM3LjAyMDQ1NTMwMjk1OTQsMjc5My44MjU4NTE0NjQwMzEsMjk1OS45NTUzODE2OTMwNzU3LDMxMzUuOTYzNDg3ODUzOTk0NiwzMzIyLjQzNzU4MDYzOTU2MSwzNTIwLDM3MjkuMzEwMDkyMTQ0NzE5NCwzOTUxLjA2NjQxMDA0ODk5Miw0MTg2LjAwOTA0NDgwOTU3OCw0NDM0LjkyMjA5NTYyOTk1NCw0Njk4LjYzNjI4NjY3ODUyLDQ5NzguMDMxNzM5NTUzMjk0LDUyNzQuMDQwOTEwNjA1OTE5LDU1ODcuNjUxNzAyOTI4MDYyLDU5MTkuOTEwNzYzMzg2MTUxLDYyNzEuOTI2OTc1NzA3OTg5LDY2NDQuODc1MTYxMjc5MTIyLDcwNDAsNzQ1OC42MjAxODQyODk0MzcsNzkwMi4xMzI4MjAwOTc5ODhdO2NvbnN0IGZyZXFGb3JOb3RlPShub3RlLG9jdCk9PkZSRVFbbm90ZS0xK29jdCoxMl07Y29uc3QgVk9JQ0VfVFlQRVM9WyJzaW5lIiwic3F1YXJlIiwic2F3dG9vdGgiLCJ0cmlhbmdsZSIsIm5vaXNlIl07Y29uc3QgcGFyc2VWb2ljZVR5cGU9aXg9PlZPSUNFX1RZUEVTW2l4XTtjb25zdCBERUZBVUxUX0VOVkVMT1BFPXthdHRhY2s6LjAwNSxkZWNheTouMSxzdXN0YWluOi41LHJlbGVhc2U6LjF9O2xldCBhdWRpb0N0eDtjb25zdCBlbmFibGVBdWRpbz0oKT0+e2lmKCFhdWRpb0N0eCl7YXVkaW9DdHg9bmV3IEF1ZGlvQ29udGV4dDtjb25zb2xlLmxvZyhgW1plc3RBdWRpb10gQ3JlYXRlZCBBdWRpb0NvbnRleHQgKCR7YXVkaW9DdHguc3RhdGV9KWApfWlmKGF1ZGlvQ3R4LnN0YXRlPT09InN1c3BlbmRlZCIpe2NvbnNvbGUubG9nKCJbWmVzdEF1ZGlvXSBSZXN1bWluZyBBdWRpb0NvbnRleHQuLi4iKTthdWRpb0N0eC5yZXN1bWUoKS50aGVuKCgpPT57Y29uc29sZS5sb2coIltaZXN0QXVkaW9dIEFjdGl2ZSEiKX0pfX07Y29uc3Qgd2Fybk5vaXNlPSgpPT5jb25zb2xlLmxvZygiW1plc3RBdWRpb10gVm9pY2UgdHlwZSAnbm9pc2UnIG5vdCB5ZXQgc3VwcG9ydGVkIik7Y29uc3QgY3JlYXRlVm9pY2U9KHR5cGVJeCxlbnZlbG9wZT17fSk9PntpZih0eXBlSXg9PTQpe3JldHVybntwbGF5Tm90ZTp3YXJuTm9pc2V9fWNvbnN0IHR5cGU9Vk9JQ0VfVFlQRVNbdHlwZUl4XTtjb25zdCB2b2x1bWU9ZW52ZWxvcGU/LnZvbHVtZT8/MTtjb25zdCBhdHRhY2s9ZW52ZWxvcGU/LmF0dGFjaz8/REVGQVVMVF9FTlZFTE9QRS5hdHRhY2s7Y29uc3QgZGVjYXk9ZW52ZWxvcGU/LmRlY2F5Pz9ERUZBVUxUX0VOVkVMT1BFLmRlY2F5O2NvbnN0IHN1c3RhaW49ZW52ZWxvcGU/LnN1c3RhaW4/P0RFRkFVTFRfRU5WRUxPUEUuc3VzdGFpbjtjb25zdCByZWxlYXNlPWVudmVsb3BlPy5yZWxlYXNlPz9ERUZBVUxUX0VOVkVMT1BFLnJlbGVhc2U7bGV0IG9zY05vZGUsZ2Fpbk5vZGU7Y29uc3QgcGxheU5vdGU9KG5vdGUsb2N0LGhvbGQpPT57aWYoIWF1ZGlvQ3R4KXJldHVybjtjb25zdCB0b25lPWZyZXFGb3JOb3RlKG5vdGUsb2N0KTtvc2NOb2RlPWF1ZGlvQ3R4LmNyZWF0ZU9zY2lsbGF0b3IoKTtvc2NOb2RlLnR5cGU9dHlwZTtnYWluTm9kZT1hdWRpb0N0eC5jcmVhdGVHYWluKCk7Z2Fpbk5vZGUuZ2Fpbi52YWx1ZT0wO29zY05vZGUuY29ubmVjdChnYWluTm9kZSk7Z2Fpbk5vZGUuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbik7Y29uc3QgdDA9YXVkaW9DdHguY3VycmVudFRpbWU7bGV0IHRhPXQwK2F0dGFjaztsZXQgdGQ9dGErZGVjYXk7Y29uc3QgdHM9dDAraG9sZDtjb25zdCB0cj10cytyZWxlYXNlO2xldCB2bWF4PXZvbHVtZTtsZXQgdnN1cz12bWF4KnN1c3RhaW47aWYoaG9sZDxhdHRhY2spe3RhPXRzO3ZtYXgqPWhvbGQvYXR0YWNrO3RkPS0xO3ZzdXM9dm1heH1lbHNlIGlmKGhvbGQ8YXR0YWNrK2RlY2F5KXt0ZD10cy1hdHRhY2s7dnN1cz0oaG9sZC1hdHRhY2spL2RlY2F5Kih2c3VzLXZtYXgpK3ZtYXh9b3NjTm9kZS5zdGFydCgpO29zY05vZGUuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKHRvbmUsdDApO2dhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCx0MCk7Z2Fpbk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh2bWF4LHRhKTtpZih0ZD4wKXtnYWluTm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHZzdXMsdGQpO2dhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodnN1cyx0ZCl9Z2Fpbk5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2c3VzLHRzKTtnYWluTm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsdHIpO29zY05vZGUuc3RvcCh0cil9O2NvbnN0IHN0b3A9KCk9PntnYWluTm9kZT8uZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoMCk7Z2Fpbk5vZGU/LmdhaW4uc2V0VmFsdWVBdFRpbWUoMCwwKTtvc2NOb2RlPy5zdG9wKCl9O3JldHVybntwbGF5Tm90ZTpwbGF5Tm90ZSxzdG9wOnN0b3B9fTtjb25zdCBwbGF5U291bmQ9c291bmQ9Pntjb25zdCB2b2ljZT1jcmVhdGVWb2ljZShzb3VuZC50eXBlLHNvdW5kLmVudmVsb3BlKTtjb25zdCBCUE09c291bmQuYnBtPz8xMjA7Y29uc3QgdGlja0xlbmd0aD0xLzQqKDYwL0JQTSk7bGV0IHBvcz0tMTtjb25zdCBuZXh0VGljaz0oKT0+e2lmKCsrcG9zPj1zb3VuZC50aWNrcylyZXR1cm47Y29uc3Qgbm90ZT1zb3VuZC5ub3Rlc1twb3MqM107Y29uc3Qgb2N0PXNvdW5kLm5vdGVzW3BvcyozKzFdO2NvbnN0IGhvbGQ9c291bmQubm90ZXNbcG9zKjMrMl07aWYobm90ZT4wKXt2b2ljZS5wbGF5Tm90ZShub3RlLG9jdCxob2xkKnRpY2tMZW5ndGgpfXNldFRpbWVvdXQobmV4dFRpY2ssdGlja0xlbmd0aCoxZTMpfTtuZXh0VGljaygpfTtjb25zdCBzdG9wU29uZz0oKT0+e2lmKCFaZXN0QXVkaW8uX19jdXJyZW50U29uZylyZXR1cm47WmVzdEF1ZGlvLl9fY3VycmVudFNvbmcuc3RvcD10cnVlO2RlbGV0ZSBaZXN0QXVkaW8uX19jdXJyZW50U29uZ307Y29uc3Qgc2V0VGVtcG89YnBtPT57aWYoIVplc3RBdWRpby5fX2N1cnJlbnRTb25nKXJldHVybjtaZXN0QXVkaW8uX19jdXJyZW50U29uZy50aWNrTGVuZ3RoPTEvNCooNjAvYnBtKX07Y29uc3QgcGxheVNvbmc9KHNvbmcsbG9vcCxvbkVuZCk9Pntjb25zdCB2b2ljZXM9W2NyZWF0ZVZvaWNlKDAsc29uZy52b2ljZXM/LlswXSksY3JlYXRlVm9pY2UoMSxzb25nLnZvaWNlcz8uWzFdKSxjcmVhdGVWb2ljZSgyLHNvbmcudm9pY2VzPy5bMl0pLGNyZWF0ZVZvaWNlKDMsc29uZy52b2ljZXM/LlszXSldO2NvbnN0IEJQTT1zb25nLmJwbT8/MTIwO2NvbnN0IHRpY2tMZW5ndGg9MS80Kig2MC9CUE0pO2xldCBwb3M9LTE7c3RvcFNvbmcoKTtjb25zdCBzaWduYWw9e3N0b3A6ZmFsc2UsdGlja0xlbmd0aDp0aWNrTGVuZ3RofTtaZXN0QXVkaW8uX19jdXJyZW50U29uZz1zaWduYWw7Y29uc3QgbmV4dFRpY2s9KCk9PntpZihzaWduYWwuc3RvcCl7Zm9yKGxldCB2PTA7djx2b2ljZXMubGVuZ3RoO3YrKyl7dm9pY2VzW3ZdLnN0b3AoKX1yZXR1cm59aWYoKytwb3M+PXNvbmcudGlja3Mpe2lmKGxvb3Ape3Bvcz1zb25nLmxvb3BGcm9tPz8wfWVsc2V7cmV0dXJuIG9uRW5kJiZvbkVuZCgpfX1mb3IobGV0IHY9MDt2PHZvaWNlcy5sZW5ndGg7disrKXtjb25zdCBub3RlPXNvbmcubm90ZXNbdl1bcG9zKjNdO2NvbnN0IG9jdD1zb25nLm5vdGVzW3ZdW3BvcyozKzFdO2NvbnN0IGhvbGQ9c29uZy5ub3Rlc1t2XVtwb3MqMysyXTtpZihub3RlPjApe3ZvaWNlc1t2XS5wbGF5Tm90ZShub3RlLG9jdCxob2xkKnNpZ25hbC50aWNrTGVuZ3RoKX19c2V0VGltZW91dChuZXh0VGljayxzaWduYWwudGlja0xlbmd0aCoxZTMpfTtuZXh0VGljaygpfTtaZXN0QXVkaW89e2VuYWJsZTplbmFibGVBdWRpbyxwbGF5U291bmQ6cGxheVNvdW5kLHBsYXlTb25nOnBsYXlTb25nLHN0b3BTb25nOnN0b3BTb25nLHNldFRlbXBvOnNldFRlbXBvfTtjb25zdCBGUFM9MjA7Y29uc3QgQ0VMTF9TSVpFPTg7Y29uc3QgUk9PTV9XSURUSD0yNTtjb25zdCBST09NX0hFSUdIVD0xNTtjb25zdCBQSVhFTF9XSURUSD0yMDA7Y29uc3QgUElYRUxfSEVJR0hUPTEyMDtjb25zdCBGUkFNRV9EVVJBVElPTj0xL0ZQUztsZXQgQ09MT1JfV0hJVEU9WzI1NSwyNTUsMjU1LDI1NV07bGV0IENPTE9SX0JMQUNLPVswLDAsMCwyNTVdO0NPTE9SX1dISVRFPVsxODYsMTc0LDE2OSwyNTVdO0NPTE9SX0JMQUNLPVs0OSw0Nyw0MCwyNTVdO2NvbnN0IEVkZ2VEaXJlY3Rpb249e1VQOjAsUklHSFQ6MSxET1dOOjIsTEVGVDozfTtjb25zdCBCdXR0b249e1VQOjEsUklHSFQ6MixET1dOOjMsTEVGVDo0LEE6NSxCOjZ9O2NvbnN0IFRpbGVUeXBlcz17MDoid29ybGQiLDE6InBsYXllciIsMjoic3ByaXRlIiwzOiJpdGVtIn07ZnVuY3Rpb24gd2FybihtZXNzYWdlKXtjb25zb2xlLndhcm4oYFtXQVJOXSAke21lc3NhZ2V9YCl9ZnVuY3Rpb24gZmFpbChtZXNzYWdlKXtjb25zb2xlLmVycm9yKGBbRkFJTF0gJHttZXNzYWdlfWApfWxldCBhbHJlYWR5V2FybmVkRm9yVW5rbm93bkV4cHJlc3Npb25UeXBlPXt9O2NvbnN0IFkySz05NDY2ODQ4MDA7Y29uc3QgZ2V0RGF0ZVRpbWVQYXJ0PXBhcnQ9Pntjb25zdCBub3c9bmV3IERhdGU7aWYocGFydD09PSJ5ZWFyIilyZXR1cm4gbm93LmdldEZ1bGxZZWFyKCk7ZWxzZSBpZihwYXJ0PT09InllYXI5OSIpcmV0dXJuIG5vdy5nZXRGdWxsWWVhcigpJTEwMDtlbHNlIGlmKHBhcnQ9PT0ibW9udGgiKXJldHVybiBub3cuZ2V0TW9udGgoKSsxO2Vsc2UgaWYocGFydD09PSJkYXkiKXJldHVybiBub3cuZ2V0RGF0ZSgpO2Vsc2UgaWYocGFydD09PSJ3ZWVrZGF5IilyZXR1cm4obm93LmdldERheSgpKzYpJTc7ZWxzZSBpZihwYXJ0PT09ImhvdXIiKXJldHVybiBub3cuZ2V0SG91cnMoKTtlbHNlIGlmKHBhcnQ9PT0iaG91cjEyIilyZXR1cm4gbm93LmdldEhvdXJzKCklMTI7ZWxzZSBpZihwYXJ0PT09Im1pbnV0ZSIpcmV0dXJuIG5vdy5nZXRNaW51dGVzKCk7ZWxzZSBpZihwYXJ0PT09InNlY29uZCIpcmV0dXJuIG5vdy5nZXRTZWNvbmRzKCk7ZWxzZSBpZihwYXJ0PT09ImFtcG0iKXJldHVybiBub3cuZ2V0SG91cnMoKTwxMj8iYW0iOiJwbSI7ZWxzZSBpZihwYXJ0PT09InRpbWVzdGFtcCIpcmV0dXJuIE1hdGguZmxvb3Iobm93LmdldFRpbWUoKS8xZTMpLVkyS307Y2xhc3MgQnV0dG9uU3RhdGV7Y29uc3RydWN0b3IoKXt0aGlzLmlzUHJlc3NlZD1mYWxzZTt0aGlzLmhlbGRUaW1lPTA7dGhpcy5qdXN0UHJlc3NlZD1mYWxzZTt0aGlzLmlzUmVwZWF0aW5nPWZhbHNlfXByZXNzKCl7aWYodGhpcy5pc1ByZXNzZWQpcmV0dXJuO3RoaXMuaXNQcmVzc2VkPXRydWU7dGhpcy5qdXN0UHJlc3NlZD10cnVlO3RoaXMuaXNSZXBlYXRpbmc9ZmFsc2V9cmVsZWFzZSgpe2lmKCF0aGlzLmlzUHJlc3NlZClyZXR1cm47dGhpcy5pc1ByZXNzZWQ9ZmFsc2U7dGhpcy5oZWxkVGltZT0wfWNoZWNrKHJlcGVhdCxyZXBlYXREZWxheSxyZXBlYXRCZXR3ZWVuKXtpZih0aGlzLmp1c3RQcmVzc2VkKXt0aGlzLmp1c3RQcmVzc2VkPWZhbHNlO3JldHVybiB0cnVlfWlmKHRoaXMuaXNQcmVzc2VkJiZyZXBlYXQpe3RoaXMuaGVsZFRpbWUrPUZSQU1FX0RVUkFUSU9OO2NvbnN0IHdhaXQ9dGhpcy5pc1JlcGVhdGluZz9yZXBlYXRCZXR3ZWVuOnJlcGVhdERlbGF5O2lmKHRoaXMuaGVsZFRpbWU+PXdhaXQpe3RoaXMuaXNSZXBlYXRpbmc9dHJ1ZTt0aGlzLmhlbGRUaW1lLT13YWl0O3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9fWNvbnN0IG5vb3A9KCk9Pnt9O2NvbnN0IGlzRGVmaW5lZD14PT50eXBlb2YgeCE9PSJ1bmRlZmluZWQiO2NvbnN0IGlzWFk9b2JqPT5vYmomJk51bWJlci5pc0Zpbml0ZShvYmoueCkmJk51bWJlci5pc0Zpbml0ZShvYmoueSk7ZnVuY3Rpb24gd3JhcFRleHQoc3RyLG1heFdpZHRoLG1heExpbmVzKXtjb25zdCBsaW5lcz1bXTtsZXQgZnJvbT0wO3doaWxlKGZyb208c3RyLmxlbmd0aCl7bGV0IGJyZWFrQXQ9ZnJvbSttYXhXaWR0aDtjb25zdCBmZj1zdHIuaW5kZXhPZigiXGYiLGZyb20pO2NvbnN0IG5sPXN0ci5pbmRleE9mKCJcbiIsZnJvbSk7aWYoZmY+PWZyb20mJmZmPD1icmVha0F0KXtsaW5lcy5wdXNoKHN0ci5zbGljZShmcm9tLGZmKSk7Y29uc3QgbmY9NC1saW5lcy5sZW5ndGglbWF4TGluZXM7Zm9yKGxldCBpPTA7aTxuZiVtYXhMaW5lcztpKyspe2xpbmVzLnB1c2goIiIpfWZyb209ZmYrMX1lbHNlIGlmKG5sPj1mcm9tJiZubDw9YnJlYWtBdCl7bGluZXMucHVzaChzdHIuc2xpY2UoZnJvbSxubCkpO2Zyb209bmwrMX1lbHNlIGlmKGJyZWFrQXQ+PXN0ci5sZW5ndGgpe2xpbmVzLnB1c2goc3RyLnNsaWNlKGZyb20pKTticmVha31lbHNle2NvbnN0IGJsPXN0ci5sYXN0SW5kZXhPZigiICIsYnJlYWtBdCk7aWYoYmw+ZnJvbSl7bGluZXMucHVzaChzdHIuc2xpY2UoZnJvbSxibCkpO2Zyb209YmwrMX1lbHNle2xpbmVzLnB1c2goc3RyLnNsaWNlKGZyb20sYnJlYWtBdCkpO2Zyb209YnJlYWtBdH19fWlmKG1heExpbmVzKXtjb25zdCByZXN1bHQ9W107Zm9yKGxldCBsPTA7bDxsaW5lcy5sZW5ndGg7bCs9bWF4TGluZXMpe3Jlc3VsdC5wdXNoKGxpbmVzLnNsaWNlKGwsbCttYXhMaW5lcykuam9pbigiXG4iKSl9cmV0dXJuIHJlc3VsdH1lbHNle3JldHVybiBsaW5lcy5qb2luKCJcbiIpfX1jb25zdCByYW5kb21JbnQ9KGxvLGhpKT0+e2NvbnN0IHJhbmdlPU1hdGguYWJzKGhpLWxvKzEpO3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqcmFuZ2UpK01hdGgubWluKGxvLGhpKX07Y29uc3QgYnlOYW1lPWFycj0+T2JqZWN0LmZyb21FbnRyaWVzKGFyci5tYXAoeD0+W3gubmFtZSx4XSkpO2NvbnN0IGNvb3JkVG9JbmRleD0oeCx5KT0+eCt5KlJPT01fV0lEVEg7Y29uc3QgaW5kZXhUb0Nvb3JkPWl4PT57Y29uc3QgeT1NYXRoLmZsb29yKGl4L1JPT01fV0lEVEgpO2NvbnN0IHg9aXgteSpST09NX1dJRFRIO3JldHVyblt4LHldfTtjb25zdCBmaW5kU3BlY2lhbEdldHRlcj1leHByPT57aWYoIUFycmF5LmlzQXJyYXkoZXhwcikpcmV0dXJuO2lmKGV4cHJbMF0hPT0iZ2V0IilyZXR1cm47Y29uc3QgcGFydHM9ZXhwclsxXS5zcGxpdCgiLiIpO2lmKHBhcnRzLmxlbmd0aCE9PTJ8fHBhcnRzWzBdIT09ImV2ZW50IilyZXR1cm47cmV0dXJuIHBhcnRzWzFdfTtjb25zdCByZXNvbHZlRnJhbWVzPSh0aWxlcyxmcmFtZURhdGEpPT57dGlsZXMuZm9yRWFjaCh0aWxlPT57dGlsZS5mcmFtZXM9dGlsZS5mcmFtZXM/Lm1hcChpZD0+ZnJhbWVEYXRhW2lkXT8uZGF0YSl9KX07Y29uc3QgcmVzb2x2ZVRpbGVTY3JpcHRzPSh0aWxlcyxzY3JpcHREYXRhKT0+e3RpbGVzLmZpbHRlcih0PT5pc0RlZmluZWQodC5zY3JpcHQpKS5mb3JFYWNoKHRpbGU9Pnt0aWxlLnNjcmlwdD1zY3JpcHREYXRhW3RpbGUuc2NyaXB0XS5kYXRhfSl9O2NvbnN0IHJlc29sdmVSb29tU2NyaXB0cz0ocm9vbXMsc2NyaXB0RGF0YSk9Pntyb29tcy5maWx0ZXIocj0+aXNEZWZpbmVkKHIuc2NyaXB0KSkuZm9yRWFjaChyb29tPT57cm9vbS5zY3JpcHQ9c2NyaXB0RGF0YVtyb29tLnNjcmlwdF0uZGF0YX0pfTtjb25zdCByZXNvbHZlVGlsZXM9KHJvb21zLHRpbGVEYXRhKT0+e3Jvb21zLmZvckVhY2gocm9vbT0+e3Jvb20udGlsZXM9cm9vbS50aWxlcz8ubWFwKGlkPT50aWxlRGF0YVtpZF0pfSl9O2NvbnN0IGdldEN1cnJlbnRGcmFtZUZvclRpbGU9KHRpbGUsZnJhbWVJeCk9PnRpbGUuZnJhbWVzW01hdGguZmxvb3IodGlsZS5mcHMvRlBTKmZyYW1lSXgpJXRpbGUuZnJhbWVzLmxlbmd0aF07Y29uc3QgZ2V0Q3VycmVudEZyYW1lSW5kZXhGb3JUaWxlPSh0aWxlLGZyYW1lSXgpPT5NYXRoLmZsb29yKHRpbGUuZnBzL0ZQUypmcmFtZUl4KSV0aWxlLmZyYW1lcy5sZW5ndGg7Y29uc3QgZ2V0TWV0YUluZm89ZGF0YT0+KHtuYW1lOmRhdGEubmFtZSxhdXRob3I6ZGF0YS5hdXRob3IsdmVyc2lvbjpkYXRhLnZlcnNpb25TdHJpbmcsYnVpbGQ6ZGF0YS5idWlsZE51bWJlcixpbnRybzpkYXRhLmludHJvfSk7Y2xhc3MgWmVzdHtzdGF0aWMgcnVuKGRhdGEsY2FudmFzKXtjb25zdCBnYW1lPW5ldyBaZXN0KGNhbnZhcyk7Z2FtZS4jbG9hZENhcnQoZGF0YSk7Z2FtZS5wbGF5KCk7cmV0dXJuIGdhbWV9c3RhdGljIGxvYWQoZGF0YSxjYW52YXMpe2NvbnN0IGdhbWU9bmV3IFplc3QoY2FudmFzKTtnYW1lLmxvYWQoZGF0YSk7cmV0dXJuIGdhbWV9Y29uc3RydWN0b3IoY2FudmFzKXt0aGlzLmNhbnZhcz1jYW52YXM7dGhpcy5jdHgyZD1jYW52YXMuZ2V0Q29udGV4dCgiMmQiKTt0aGlzLmlzUnVubmluZz1mYWxzZTt0aGlzLmlzUGF1c2VkPWZhbHNlO3dpbmRvdy5kdW1wPSgpPT57dGhpcy5kdW1wKCl9fXJlc3RhcnQoKXt0aGlzLiNsb2FkQ2FydChKU09OLnBhcnNlKHRoaXMub3JpZ2luYWxDYXJ0KSk7dGhpcy5wbGF5KCl9bG9hZChkYXRhLHdyYXBwZWQpe3RoaXMuI2xvYWRDYXJ0KGRhdGEpO2lmKHdyYXBwZWQpdGhpcy5yb29tPXRoaXMud3JhcD8/dGhpcy5jYXJkO3RoaXMucmVuZGVyKCl9I2xvYWRDYXJ0KGRhdGEpe2lmKHRoaXMuaXNSdW5uaW5nKXt0aGlzLnN0b3AoKX1jb25zb2xlLmxvZyhkYXRhKTt0aGlzLm9yaWdpbmFsQ2FydD1KU09OLnN0cmluZ2lmeShkYXRhKTt0aGlzLmNhcnQ9ZGF0YTt0aGlzLm1ldGE9Z2V0TWV0YUluZm8oZGF0YSk7dGhpcy5mcmFtZUl4PTA7dGhpcy5kaWFsb2dGcmFtZUl4PTA7dGhpcy5kaWFsb2dBY3RpdmU9ZmFsc2U7dGhpcy50aWxlQnVmZmVyPVtdO3RoaXMuY29uZmlnPXtzYXlBZHZhbmNlRGVsYXk6LjIsdGV4dFNwZWVkOjIwLHRleHRTa2lwOjEsaW5wdXRSZXBlYXQ6MSxpbnB1dFJlcGVhdERlbGF5Oi40LGlucHV0UmVwZWF0QmV0d2VlbjouMixhdXRvQWN0OjF9O3RoaXMuaW5wdXQ9e1tCdXR0b24uVVBdOm5ldyBCdXR0b25TdGF0ZSxbQnV0dG9uLlJJR0hUXTpuZXcgQnV0dG9uU3RhdGUsW0J1dHRvbi5ET1dOXTpuZXcgQnV0dG9uU3RhdGUsW0J1dHRvbi5MRUZUXTpuZXcgQnV0dG9uU3RhdGUsW0J1dHRvbi5BXTpuZXcgQnV0dG9uU3RhdGUsW0J1dHRvbi5CXTpuZXcgQnV0dG9uU3RhdGV9O3RoaXMuaXNJZ25vcmVkPWZhbHNlO2NvbnNvbGUubG9nKGBMb2FkZWQgIiR7dGhpcy5tZXRhLm5hbWV9IiBieSAke3RoaXMubWV0YS5hdXRob3J9YCk7cmVzb2x2ZVRpbGVTY3JpcHRzKGRhdGEudGlsZXMsZGF0YS5zY3JpcHRzKTtyZXNvbHZlUm9vbVNjcmlwdHMoZGF0YS5yb29tcyxkYXRhLnNjcmlwdHMpO3Jlc29sdmVGcmFtZXMoZGF0YS50aWxlcyxkYXRhLmZyYW1lcyk7cmVzb2x2ZVRpbGVzKGRhdGEucm9vbXMsZGF0YS50aWxlcyk7ZGF0YS5wbGF5ZXIudGlsZT1kYXRhLnRpbGVzW2RhdGEucGxheWVyLmlkXTt0aGlzLndyYXA9ZGF0YS53cmFwIT09LTE/ZGF0YS5yb29tc1tkYXRhLndyYXBdOm51bGw7dGhpcy5jYXJkPWRhdGEuY2FyZCE9PS0xP2RhdGEucm9vbXNbZGF0YS5jYXJkXTpudWxsO3RoaXMuaWNvbj1kYXRhLmNhcmQhPT0tMT9kYXRhLnJvb21zW2RhdGEuaWNvbl06bnVsbDt0aGlzLnN0YXJ0PWRhdGEucm9vbXNbZGF0YS5wbGF5ZXIucm9vbV07dGhpcy5nYW1lU2NyaXB0PWRhdGEuc2NyaXB0c1tkYXRhLnNjcmlwdF0/LmRhdGE7dGhpcy5wbGF5ZXJTY3JpcHQ9ZGF0YS5wbGF5ZXIudGlsZS5zY3JpcHQ7dGhpcy5uYW1lZFJvb21zPWJ5TmFtZShkYXRhLnJvb21zKTt0aGlzLm5hbWVkVGlsZXM9YnlOYW1lKGRhdGEudGlsZXMpO3RoaXMubmFtZWRTb3VuZHM9YnlOYW1lKGRhdGEuc291bmRzKTt0aGlzLm5hbWVkU29uZ3M9YnlOYW1lKGRhdGEuc29uZ3MpO3RoaXMuYmFja2dyb3VuZFRpbGU9dGhpcy5uYW1lZFRpbGVzW2RhdGEuYmFja2dyb3VuZD09MT8iYmxhY2siOiJ3aGl0ZSJdO3RoaXMuZ2xvYmFscz17fTt0aGlzLnRpbWVycz17fTt0aGlzLmlzSW52ZXJ0ZWQ9MDt0aGlzLmlzU2hha2luZz1mYWxzZTt0aGlzLnBsYXllcj1kYXRhLnBsYXllcjt0aGlzLnBsYXllci52aXN1YWw9dGhpcy5wbGF5ZXIudGlsZTt0aGlzLnJvb209dGhpcy5jYXJkO3RoaXMucm9vbVRyYW5zaXRpb249bnVsbDt0aGlzLmZyYW1lT3ZlcnJpZGVzPXt9O3RoaXMuc3RvcmVLZXk9YHplc3QvJHt0aGlzLm1ldGEuYXV0aG9yfS8ke3RoaXMubWV0YS5uYW1lfWA7dGhpcy5zdG9yZURhdGE9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JlS2V5KT8/Int9Iik7dGhpcy5ldmVudD17cHg6dGhpcy5wbGF5ZXIueCxweTp0aGlzLnBsYXllci55LHR4OnRoaXMucGxheWVyLngsdHk6dGhpcy5wbGF5ZXIueSxwbGF5ZXI6dGhpcy5wbGF5ZXIudGlsZS5uYW1lLHJvb206dGhpcy5yb29tLm5hbWUsZ2FtZTp0aGlzLm1ldGEubmFtZSxhYTowLHJhOjAsZnJhbWU6dGhpcy5mcmFtZUl4LGF4OjAsYXk6MCxhejowLG9yaWVudGF0aW9uOiJzdGFuZGluZyB1cCJ9fXN0b3JlKG5hbWUpe2lmKG5hbWUpe3RoaXMuc3RvcmVEYXRhW25hbWVdPXRoaXMuZ2xvYmFsc1tuYW1lXX1lbHNle2xvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmVLZXksSlNPTi5zdHJpbmdpZnkodGhpcy5zdG9yZURhdGEpKX19cmVzdG9yZShuYW1lKXtpZihuYW1lKXt0aGlzLmdsb2JhbHNbbmFtZV09dGhpcy5zdG9yZURhdGFbbmFtZV19ZWxzZXt0aGlzLmdsb2JhbHM9ey4uLnRoaXMuZ2xvYmFscywuLi50aGlzLnN0b3JlRGF0YX19fXRvc3MoKXt0aGlzLnN0b3JlRGF0YT17fTtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLnN0b3JlS2V5KX0jbG9vcCgpe2lmKHRoaXMuaXNQYXVzZWQpcmV0dXJuO2lmKCF0aGlzLmRpYWxvZ0FjdGl2ZSl7dGhpcy4jdGljaygpO3RoaXMuI3J1bkZyYW1lVGltZXJzKCl9ZWxzZXt0aGlzLmRpYWxvZ0xvY2stLTtpZih0aGlzLmRpYWxvZ1RleHRJeDx0aGlzLmRpYWxvZ1RleHQubGVuZ3RoKXtkb3t0aGlzLmRpYWxvZ1RleHRJeCs9dGhpcy5jb25maWcudGV4dFNwZWVkL0ZQU313aGlsZSh0aGlzLmRpYWxvZ1RleHRbdGhpcy5kaWFsb2dUZXh0SXhdPy50cmltKCk9PSIiJiZ0aGlzLmRpYWxvZ1RleHRJeDx0aGlzLmRpYWxvZ1RleHQubGVuZ3RoKX1lbHNle3RoaXMuZGlhbG9nRnJhbWVJeCsrfX10aGlzLiN1cGRhdGVJbnB1dCgpO3RoaXMucmVuZGVyKCl9I3RpY2soKXt0aGlzLmZyYW1lSXgrKzt0aGlzLmV2ZW50LmZyYW1lPXRoaXMuZnJhbWVJeDtpZih0aGlzLnJvb21UcmFuc2l0aW9uKXt0aGlzLiNlbnRlcih0aGlzLnJvb21UcmFuc2l0aW9uKTt0aGlzLnJvb21UcmFuc2l0aW9uPW51bGx9dGhpcy5ydW5TY3JpcHQodGhpcy5nYW1lU2NyaXB0LCJsb29wIil9cGxheUNhcmQoKXtpZih0aGlzLmlzUnVubmluZyl7d2FybigiQWxyZWFkeSBydW5uaW5nIik7cmV0dXJufXRoaXMuaXNSdW5uaW5nPXRydWU7dGhpcy5sb29wVGltZXI9c2V0SW50ZXJ2YWwoKCk9PnRoaXMuI2xvb3AoKSwxZTMvRlBTKX1wbGF5KCl7WmVzdEF1ZGlvLmVuYWJsZSgpO2lmKHRoaXMuaXNSdW5uaW5nKXt3YXJuKCJBbHJlYWR5IHJ1bm5pbmciKTtyZXR1cm59dGhpcy5pc1J1bm5pbmc9dHJ1ZTt0aGlzLnJ1blNjcmlwdCh0aGlzLmdhbWVTY3JpcHQsImxvYWQiKTt0aGlzLmNhcnQucm9vbXMuZm9yRWFjaChyb29tPT50aGlzLnJ1blNjcmlwdChyb29tLnNjcmlwdCwibG9hZCIpKTt0aGlzLmNhcnQudGlsZXMuZm9yRWFjaCh0aWxlPT50aGlzLnJ1blNjcmlwdCh0aWxlLnNjcmlwdCwibG9hZCIse3RpbGU6dGlsZS5uYW1lfSkpO3RoaXMuI2NoYW5nZUxvb3AodGhpcy5jYXJ0LnNvbmcpO3RoaXMucnVuU2NyaXB0KHRoaXMuZ2FtZVNjcmlwdCwic3RhcnQiKTt0aGlzLnJvb209e3RpbGVzOkFycmF5KFJPT01fSEVJR0hUKlJPT01fV0lEVEgpLmZpbGwodGhpcy5uYW1lZFRpbGVzLmJsYWNrKX07dGhpcy5yb29tVHJhbnNpdGlvbj10aGlzLnN0YXJ0O3RoaXMubG9vcFRpbWVyPXNldEludGVydmFsKCgpPT50aGlzLiNsb29wKCksMWUzL0ZQUyk7dGhpcy4jbG9vcCgpfXN0b3AoKXtpZighdGhpcy5pc1J1bm5pbmcpe3dhcm4oIkFscmVhZHkgc3RvcHBlZCIpO3JldHVybn10aGlzLmlzUnVubmluZz1mYWxzZTtjbGVhckludGVydmFsKHRoaXMubG9vcFRpbWVyKTt0aGlzLmxvb3BUaW1lcj1udWxsfXBhdXNlUmVzdW1lKCl7aWYoIXRoaXMuaXNSdW5uaW5nKXJldHVybjt0aGlzLmlzUGF1c2VkPSF0aGlzLmlzUGF1c2VkO3JldHVybiB0aGlzLmlzUGF1c2VkfWlnbm9yZSgpe3RoaXMuaXNJZ25vcmVkPXRydWV9bGlzdGVuKCl7dGhpcy5pc0lnbm9yZWQ9ZmFsc2V9Z2V0VGlsZUF0KHgseSl7Y29uc3QgaXg9Y29vcmRUb0luZGV4KHgseSk7cmV0dXJuIHRoaXMucm9vbS50aWxlc1tpeF19c3dhcFRpbGVBdCh4LHksdGlsZSl7Y29uc3QgaXg9Y29vcmRUb0luZGV4KHgseSk7ZGVsZXRlIHRoaXMuZnJhbWVPdmVycmlkZXNbaXhdO3RoaXMucm9vbS50aWxlc1tpeF09dGlsZX0jc2V0RnJhbWVBdCh4LHksZnJhbWVJeCl7Y29uc3QgdGlsZT10aGlzLmdldFRpbGVBdCh4LHkpO2NvbnN0IGl4PWNvb3JkVG9JbmRleCh4LHkpO3RoaXMuZnJhbWVPdmVycmlkZXNbaXhdPWZyYW1lSXh9I2dldEZyYW1lQXQoeCx5KXtjb25zdCB0aWxlPXRoaXMuZ2V0VGlsZUF0KHgseSk7Y29uc3QgaXg9Y29vcmRUb0luZGV4KHgseSk7cmV0dXJuIHRoaXMuZnJhbWVPdmVycmlkZXNbaXhdPz9nZXRDdXJyZW50RnJhbWVJbmRleEZvclRpbGUodGlsZSx0aGlzLmZyYW1lSXgpfXNheShtZXNzYWdlLGNiLHJlY3Q9e30pe3RoaXMuI2NsZWFySW5wdXQoKTt0aGlzLmRpYWxvZ0FjdGl2ZT10cnVlO3RoaXMuZGlhbG9nV2luZG93U2l6ZT1bcmVjdC54Pz8zLHJlY3QueT8/MyxyZWN0Lnc/PzE3LHJlY3QuaD8/NF07dGhpcy5kaWFsb2dQYWdlcz13cmFwVGV4dChtZXNzYWdlLHRoaXMuZGlhbG9nV2luZG93U2l6ZVsyXSx0aGlzLmRpYWxvZ1dpbmRvd1NpemVbM10pO3RoaXMuZGlhbG9nVGV4dD10aGlzLmRpYWxvZ1BhZ2VzLnNoaWZ0KCk7dGhpcy5kaWFsb2dUZXh0SXg9MDt0aGlzLmRpYWxvZ0xvY2s9dGhpcy5jb25maWcuc2F5QWR2YW5jZURlbGF5KkZQUzt0aGlzLmRpYWxvZ0NiPWNiPz9ub29wfWFkdmFuY2VTYXkoKXtpZighdGhpcy5kaWFsb2dBY3RpdmUpcmV0dXJuIGZhbHNlO2lmKHRoaXMuZGlhbG9nTG9jaz49MClyZXR1cm4gdHJ1ZTtpZih0aGlzLmRpYWxvZ1RleHRJeDx0aGlzLmRpYWxvZ1RleHQubGVuZ3RoKXtpZih0aGlzLmNvbmZpZy50ZXh0U2tpcCl7dGhpcy5kaWFsb2dUZXh0SXg9dGhpcy5kaWFsb2dUZXh0Lmxlbmd0aDt0aGlzLiNjbGVhcklucHV0KCl9cmV0dXJuIHRydWV9aWYodGhpcy5kaWFsb2dQYWdlcy5sZW5ndGg+MCl7dGhpcy5kaWFsb2dUZXh0PXRoaXMuZGlhbG9nUGFnZXMuc2hpZnQoKTt0aGlzLmRpYWxvZ1RleHRJeD0wO3RoaXMuI2NsZWFySW5wdXQoKX1lbHNle3RoaXMuZGlhbG9nQWN0aXZlPWZhbHNlO3RoaXMuZGlhbG9nQ2IoKX1yZXR1cm4gdHJ1ZX1maW4obWVzc2FnZSl7dGhpcy5zdG9yZSgpO3RoaXMucnVuU2NyaXB0KHRoaXMuZ2FtZVNjcmlwdCwiZmluaXNoIik7dGhpcy5yb29tPXt0aWxlczpBcnJheShST09NX0hFSUdIVCpST09NX1dJRFRIKS5maWxsKHRoaXMubmFtZWRUaWxlcy5ibGFjayl9O3RoaXMuc2F5KG1lc3NhZ2UsKCk9Pnt0aGlzLnJlc3RhcnQoKX0pfSNzY2hlZHVsZUZyYW1lVGltZXIoY2IsZnJhbWVEZWxheSl7Y29uc3QgYXRGcmFtZT10aGlzLmZyYW1lSXgrKGZyYW1lRGVsYXk8PTE/MTpNYXRoLmNlaWwoZnJhbWVEZWxheSkpO2xldCBsaXN0PXRoaXMudGltZXJzW2F0RnJhbWVdO2lmKCFsaXN0KXtsaXN0PVtdO3RoaXMudGltZXJzW2F0RnJhbWVdPWxpc3R9bGlzdC5wdXNoKGNiKX0jcnVuRnJhbWVUaW1lcnMoKXtsZXQgbGlzdD10aGlzLnRpbWVyc1t0aGlzLmZyYW1lSXhdO2lmKCFsaXN0KXJldHVybjtsaXN0LmZvckVhY2goY2I9PmNiKCkpfWxvZyhtZXNzYWdlKXtjb25zb2xlLmxvZyhgW0dBTUVdICR7bWVzc2FnZX1gKX1kdW1wKGNvbnRleHQpe2NvbnNvbGUubG9nKHtldmVudDpjb250ZXh0Pz90aGlzLmV2ZW50LGdhbWU6dGhpcy5nbG9iYWxzLHN0b3JlOnRoaXMuc3RvcmVEYXRhLGNvbmZpZzp0aGlzLmNvbmZpZ30pfWdldFRpbGUocmVmKXtpZih0eXBlb2YgcmVmPT09InN0cmluZyIpcmV0dXJuIHRoaXMubmFtZWRUaWxlc1tyZWZdO2Vsc2UgcmV0dXJuIHRoaXMuY2FydC50aWxlc1tyZWZdfWdldFJvb20ocmVmKXtpZih0eXBlb2YgcmVmPT09InN0cmluZyIpcmV0dXJuIHRoaXMubmFtZWRSb29tc1tyZWZdO2Vsc2UgcmV0dXJuIHRoaXMuY2FydC5yb29tc1tyZWZdfWdldFNvdW5kKHJlZil7aWYodHlwZW9mIHJlZj09PSJzdHJpbmciKXJldHVybiB0aGlzLm5hbWVkU291bmRzW3JlZl07ZWxzZSByZXR1cm4gdGhpcy5jYXJ0LnNvdW5kc1tyZWZdfWdldFNvbmcocmVmKXtpZih0eXBlb2YgcmVmPT09InN0cmluZyIpcmV0dXJuIHRoaXMubmFtZWRTb25nc1tyZWZdO2Vsc2UgcmV0dXJuIHRoaXMuY2FydC5zb25nc1tyZWZdfXBsYXlTb3VuZChyZWYpe2NvbnN0IHNvdW5kPXRoaXMuZ2V0U291bmQocmVmKTtaZXN0QXVkaW8ucGxheVNvdW5kKHNvdW5kKX1icG0odGVtcG8pe1plc3RBdWRpby5zZXRUZW1wbyh0ZW1wbyl9bG9vcE11c2ljKHJlZil7Y29uc3Qgc29uZz10aGlzLmdldFNvbmcocmVmKTtaZXN0QXVkaW8ucGxheVNvbmcoc29uZyx0cnVlKX1vbmNlTXVzaWMocmVmLGNiKXtjb25zdCBzb25nPXRoaXMuZ2V0U29uZyhyZWYpO1plc3RBdWRpby5wbGF5U29uZyhzb25nLGZhbHNlLGNiKX1zdG9wTXVzaWMoKXtaZXN0QXVkaW8uc3RvcFNvbmcoKX0jY2hhbmdlTG9vcChyZWYpe2lmKCFpc0RlZmluZWQocmVmKXx8cmVmPT09LTEpcmV0dXJuO2Vsc2UgaWYocmVmPT09LTIpdGhpcy5zdG9wTXVzaWMoKTtlbHNlIHRoaXMubG9vcE11c2ljKHJlZil9cnVuRXhwcmVzc2lvbihleHByLGJsb2Nrcz1bXSxjb250ZXh0KXtpZih0aGlzLmNhbGxlZERvbmUpcmV0dXJuO2lmKCFBcnJheS5pc0FycmF5KGV4cHIpKXtyZXR1cm4gZXhwcn1jb25zdCBnZXRWYWx1ZU9mPW5hbWU9PntpZih0eXBlb2YgbmFtZSE9PSJzdHJpbmciKXtyZXR1cm4gbmFtZX1jb25zdCBwYXJ0cz1uYW1lLnNwbGl0KCIuIik7aWYocGFydHMubGVuZ3RoPT09MSl7cmV0dXJuIHRoaXMuZ2xvYmFsc1tuYW1lXT8/MH1lbHNlIGlmKHBhcnRzLmxlbmd0aD09PTIpe2lmKHBhcnRzWzBdPT09ImV2ZW50Iil7aWYobmFtZT09ImV2ZW50LnNlbGYiKXJldHVybiAwO3JldHVybiBjb250ZXh0W3BhcnRzWzFdXT8/MH1lbHNlIGlmKHBhcnRzWzBdPT09ImNvbmZpZyIpe3JldHVybiB0aGlzLmNvbmZpZ1twYXJ0c1sxXV0/PzB9ZWxzZSBpZihwYXJ0c1swXT09PSJkYXRldGltZSIpe3JldHVybiBnZXREYXRlVGltZVBhcnQocGFydHNbMV0pfWVsc2V7cmV0dXJuIDB9fWVsc2V7d2FybigiU3ludGF4IGVycm9yPyBUcnlpbmcgdG8gZ2V0IHZhbHVlIG9mOiIpO3dhcm4oaWRlbnRpZmllcil9fTtjb25zdCBzZXRWYWx1ZU9mPShuYW1lLHZhbCk9Pntjb25zdCBwYXJ0cz1uYW1lLnNwbGl0KCIuIik7aWYocGFydHMubGVuZ3RoPT09MSl7dGhpcy5nbG9iYWxzW25hbWVdPXZhbH1lbHNlIGlmKHBhcnRzWzBdPT0iY29uZmlnIil7dGhpcy5jb25maWdbcGFydHNbMV1dPXZhbH1lbHNle3dhcm4oYE5vdCBhbGxvd2VkIHRvIHNldDogJHtuYW1lfWApfX07Y29uc3QgdXBkYXRlVmFsdWVPZj0obmFtZSx1cGRhdGUpPT5zZXRWYWx1ZU9mKG5hbWUsdXBkYXRlKGdldFZhbHVlT2YobmFtZSkpKTtjb25zdCBydW49ZT0+dGhpcy5ydW5FeHByZXNzaW9uKGUsYmxvY2tzLGNvbnRleHQpO2NvbnN0W29wLC4uLmFyZ3NdPWV4cHI7aWYob3A9PT0iXyIpe31lbHNlIGlmKG9wPT0iIyIpe31lbHNlIGlmKG9wPT0iIyQiKXt9ZWxzZSBpZihvcD09PSJibG9jayIpe2Jsb2Nrc1thcmdzWzBdXS5mb3JFYWNoKGU9PntpZih0aGlzLmNhbGxlZERvbmUpcmV0dXJuO3J1bihlKX0pfWVsc2UgaWYob3A9PT0iaWYiKXtjb25zdFtjb25kaXRpb24saWZ0cnVlLC4uLmVsc2VzXT1hcmdzO2NvbnN0IHJlcz1ydW4oY29uZGl0aW9uKTtpZihyZXMpe3J1bihpZnRydWUpfWVsc2V7Zm9yKGxldCBpPTA7aTxlbHNlcy5sZW5ndGg7aSsrKXtjb25zdCBicmFuY2g9ZWxzZXNbaV07aWYoYnJhbmNoWzBdPT09ImVsc2UiKXtydW4oYnJhbmNoWzFdKTtyZXR1cm59ZWxzZSBpZihicmFuY2hbMF09PT0iZWxzZWlmIiYmcnVuKGJyYW5jaFsxXSkpe3J1bihicmFuY2hbMl0pO3JldHVybn19fX1lbHNlIGlmKG9wPT09IndoaWxlIil7Y29uc3RbY29uZGl0aW9uLGJvZHldPWFyZ3M7d2hpbGUocnVuKGNvbmRpdGlvbikpe2lmKHRoaXMuY2FsbGVkRG9uZSlyZXR1cm47cnVuKGJvZHkpfX1lbHNlIGlmKG9wPT09ImVxIil7cmV0dXJuIGdldFZhbHVlT2YoYXJnc1swXSk9PXJ1bihhcmdzWzFdKX1lbHNlIGlmKG9wPT09Im5lcSIpe3JldHVybiBnZXRWYWx1ZU9mKGFyZ3NbMF0pIT1ydW4oYXJnc1sxXSl9ZWxzZSBpZihvcD09PSJndCIpe3JldHVybiBnZXRWYWx1ZU9mKGFyZ3NbMF0pPnJ1bihhcmdzWzFdKX1lbHNlIGlmKG9wPT09Imx0Iil7cmV0dXJuIGdldFZhbHVlT2YoYXJnc1swXSk8cnVuKGFyZ3NbMV0pfWVsc2UgaWYob3A9PT0iZ3RlIil7cmV0dXJuIGdldFZhbHVlT2YoYXJnc1swXSk+PXJ1bihhcmdzWzFdKX1lbHNlIGlmKG9wPT09Imx0ZSIpe3JldHVybiBnZXRWYWx1ZU9mKGFyZ3NbMF0pPD1ydW4oYXJnc1sxXSl9ZWxzZSBpZihvcD09PSJzYXkiKXtjb25zdCBtc2c9cnVuKGFyZ3NbMF0pO2NvbnN0IGNiPWFyZ3NbMV0mJigoKT0+cnVuKGFyZ3NbMV0pKTtjb25zdCBwb3M9YXJnc1syXSYmcnVuKGFyZ3NbMl0pO3RoaXMuc2F5KG1zZyxjYixwb3MpfWVsc2UgaWYob3A9PT0iZmluIil7dGhpcy5maW4oYXJnc1swXSl9ZWxzZSBpZihvcD09PSJsb2ciKXt0aGlzLmxvZyhydW4oYXJnc1swXSkpfWVsc2UgaWYob3A9PT0iZHVtcCIpe3RoaXMuZHVtcChjb250ZXh0KX1lbHNlIGlmKG9wPT09Imlnbm9yZSIpe3RoaXMuaWdub3JlKCl9ZWxzZSBpZihvcD09PSJsaXN0ZW4iKXt0aGlzLmxpc3RlbigpfWVsc2UgaWYob3A9PT0idHlwZSIpe2NvbnN0IHdobz1ydW4oYXJnc1swXSk7Y29uc3QgdGlsZT1pc1hZKHdobyk/dGhpcy5nZXRUaWxlQXQod2hvLngsd2hvLnkpOnRoaXMuZ2V0VGlsZSh3aG8pO3JldHVybiBUaWxlVHlwZXNbdGlsZS50eXBlXX1lbHNlIGlmKG9wPT09InNvbGlkIil7Y29uc3Qgd2hvPXJ1bihhcmdzWzBdKTtjb25zdCB0aWxlPWlzWFkod2hvKT90aGlzLmdldFRpbGVBdCh3aG8ueCx3aG8ueSk6dGhpcy5nZXRUaWxlKHdobyk7cmV0dXJuIHRpbGUuc29saWQ/MTowfWVsc2UgaWYob3A9PT0iaWQiKXtjb25zdCB3aG89cnVuKGFyZ3NbMF0pO2NvbnN0IHRpbGU9aXNYWSh3aG8pP3RoaXMuZ2V0VGlsZUF0KHdoby54LHdoby55KTp0aGlzLmdldFRpbGUod2hvKTtyZXR1cm4gdGlsZS5pZH1lbHNlIGlmKG9wPT09Im5hbWUiKXtjb25zdCB3aG89cnVuKGFyZ3NbMF0pO2NvbnN0IHRpbGU9aXNYWSh3aG8pP3RoaXMuZ2V0VGlsZUF0KHdoby54LHdoby55KTp0aGlzLmdldFRpbGUod2hvKTtyZXR1cm4gdGlsZS5uYW1lfWVsc2UgaWYob3A9PT0ic3dhcCIpe2NvbnN0IG5ld1RpbGU9dGhpcy5nZXRUaWxlKHJ1bihhcmdzWzBdKSk7Y29uc3Qgd2hlcmU9YXJnc1sxXSYmcnVuKGFyZ3NbMV0pO2lmKGlzWFkod2hlcmUpKXt0aGlzLnN3YXBUaWxlQXQod2hlcmUueCx3aGVyZS55LG5ld1RpbGUpfWVsc2UgaWYoY29udGV4dC5zZWxmPT10aGlzLnBsYXllclNjcmlwdCl7dGhpcy5wbGF5ZXIuZnJhbWVJeD11bmRlZmluZWQ7dGhpcy5wbGF5ZXIudmlzdWFsPW5ld1RpbGV9ZWxzZSBpZihpc1hZKGNvbnRleHQpKXtjb250ZXh0LnNlbGY9bmV3VGlsZS5zY3JpcHQ7dGhpcy5zd2FwVGlsZUF0KGNvbnRleHQueCxjb250ZXh0LnksbmV3VGlsZSl9ZWxzZXtmYWlsKCJDYW4gb25seSBjYWxsIFNXQVAgb24gYSB0aWxlIGluc3RhbmNlIil9fWVsc2UgaWYob3A9PT0ieHkiKXtjb25zdFt4LHldPWFyZ3M7cmV0dXJue3g6cnVuKHgpLHk6cnVuKHkpfX1lbHNlIGlmKG9wPT09InJlY3QiKXtjb25zdFt4LHksdyxoXT1hcmdzO3JldHVybnt4OnJ1bih4KSx5OnJ1bih5KSx3OnJ1bih3KSxoOnJ1bihoKX19ZWxzZSBpZihvcD09PSJ0ZWxsIil7Y29uc3QgbWFnaWM9ZmluZFNwZWNpYWxHZXR0ZXIoYXJnc1swXSk7aWYobWFnaWM9PT0icGxheWVyIil7cmV0dXJuIHRoaXMucnVuRXhwcmVzc2lvbihhcmdzWzFdLGJsb2Nrcyx7Li4uY29udGV4dCx4OnRoaXMucGxheWVyLngseTp0aGlzLnBsYXllci55LHRpbGU6dGhpcy5wbGF5ZXIudGlsZS5uYW1lLHNlbGY6dGhpcy5wbGF5ZXJTY3JpcHR9KX1lbHNlIGlmKG1hZ2ljPT09InJvb20iKXtyZXR1cm4gdGhpcy5ydW5FeHByZXNzaW9uKGFyZ3NbMV0sYmxvY2tzLHsuLi5jb250ZXh0LHg6dW5kZWZpbmVkLHk6dW5kZWZpbmVkLHRpbGU6dW5kZWZpbmVkLHNlbGY6dGhpcy5yb29tLnNjcmlwdH0pfWVsc2UgaWYobWFnaWM9PT0iZ2FtZSIpe3JldHVybiB0aGlzLnJ1bkV4cHJlc3Npb24oYXJnc1sxXSxibG9ja3Msey4uLmNvbnRleHQseDp1bmRlZmluZWQseTp1bmRlZmluZWQsdGlsZTp1bmRlZmluZWQsc2VsZjp0aGlzLmdhbWVTY3JpcHR9KX1jb25zdCB3aG89cnVuKGFyZ3NbMF0pO2lmKGlzWFkod2hvKSl7Y29uc3QgdGlsZT10aGlzLmdldFRpbGVBdCh3aG8ueCx3aG8ueSk7cmV0dXJuIHRoaXMucnVuRXhwcmVzc2lvbihhcmdzWzFdLGJsb2Nrcyx7Li4uY29udGV4dCx4Ondoby54LHk6d2hvLnksdGlsZTp0aWxlLHNlbGY6dGlsZS5zY3JpcHR9KX1lbHNle2NvbnN0IHRpbGU9dGhpcy5nZXRUaWxlKHdobyk7cmV0dXJuIHRoaXMucnVuRXhwcmVzc2lvbihhcmdzWzFdLGJsb2Nrcyx7Li4uY29udGV4dCx4OnVuZGVmaW5lZCx5OnVuZGVmaW5lZCx0aWxlOnRpbGUsc2VsZjp0aWxlLnNjcmlwdH0pfX1lbHNlIGlmKG9wPT09ImNhbGwiKXtpZihjb250ZXh0LnNlbGY9PXRoaXMucGxheWVyU2NyaXB0KXt0aGlzLiNydW5QbGF5ZXJTY3JpcHQocnVuKGFyZ3NbMF0pKX1lbHNle3RoaXMucnVuU2NyaXB0KGNvbnRleHQuc2VsZixydW4oYXJnc1swXSksY29udGV4dCl9fWVsc2UgaWYob3A9PT0iZW1pdCIpe3RoaXMuZW1pdChydW4oYXJnc1swXSkpfWVsc2UgaWYob3A9PT0iYWN0Iil7dGhpcy5hY3QoKX1lbHNlIGlmKG9wPT09Im1pbWljIil7Y29uc3Qgd2hvPXJ1bihhcmdzWzBdKTtjb25zdCB0aWxlPXRoaXMuZ2V0VGlsZSh3aG8pO3RoaXMucnVuU2NyaXB0KHRpbGUuc2NyaXB0LGNvbnRleHQubmFtZSx7Y29udGV4dDpjb250ZXh0LHNlbGY6dGlsZS5zY3JpcHR9KX1lbHNlIGlmKG9wPT09ImdvdG8iKXtjb25zdHt4OngseTp5fT1ydW4oYXJnc1swXSk7dGhpcy5nb3RvKHgseSxydW4oYXJnc1sxXSkpfWVsc2UgaWYob3A9PT0id2FpdCIpe2NvbnN0IGRlbGF5PXJ1bihhcmdzWzBdKSpGUFM7dGhpcy4jc2NoZWR1bGVGcmFtZVRpbWVyKCgpPT5ydW4oYXJnc1sxXSksZGVsYXkpfWVsc2UgaWYob3A9PT0iYnBtIil7dGhpcy5icG0ocnVuKGFyZ3NbMF0pKX1lbHNlIGlmKG9wPT09Imxvb3AiKXt0aGlzLmxvb3BNdXNpYyhydW4oYXJnc1swXSkpfWVsc2UgaWYob3A9PT0ib25jZSIpe3RoaXMub25jZU11c2ljKHJ1bihhcmdzWzBdKSwoKT0+cnVuKGFyZ3NbMV0pKX1lbHNlIGlmKG9wPT09InNvdW5kIil7dGhpcy5wbGF5U291bmQocnVuKGFyZ3NbMF0pKX1lbHNlIGlmKG9wPT09InN0b3AiKXt0aGlzLnN0b3BNdXNpYyhydW4oYXJnc1swXSkpfWVsc2UgaWYob3A9PT0iZ2V0Iil7cmV0dXJuIGdldFZhbHVlT2YoYXJnc1swXSl9ZWxzZSBpZihvcD09PSJzZXQiKXtzZXRWYWx1ZU9mKGFyZ3NbMF0scnVuKGFyZ3NbMV0pKX1lbHNlIGlmKG9wPT09InN0b3JlIil7dGhpcy5zdG9yZShhcmdzWzBdKX1lbHNlIGlmKG9wPT09InJlc3RvcmUiKXt0aGlzLnJlc3RvcmUoYXJnc1swXSl9ZWxzZSBpZihvcD09PSJ0b3NzIil7dGhpcy50b3NzKCl9ZWxzZSBpZihvcD09PSJoaWRlIil7dGhpcy5pc0hpZGRlbj10cnVlfWVsc2UgaWYob3A9PT0id2luZG93Iil7Y29uc3R7eDp4LHk6eSx3OncsaDpofT1ydW4oYXJnc1swXSk7dGhpcy4jcmVuZGVyV2luZG93KHgseSx3LGgpfWVsc2UgaWYob3A9PT0iZHJhdyIpe2NvbnN0IHdobz1ydW4oYXJnc1swXSk7Y29uc3QgdGlsZT10aGlzLmdldFRpbGUod2hvKTtjb25zdCBmcmFtZT1nZXRDdXJyZW50RnJhbWVGb3JUaWxlKHRpbGUsdGhpcy5mcmFtZUl4KTtjb25zdCB3aGVyZT1ydW4oYXJnc1sxXSk7Y29uc3QgaXg9Y29vcmRUb0luZGV4KHdoZXJlLngsd2hlcmUueSk7dGhpcy50aWxlQnVmZmVyW2l4XT1mcmFtZX1lbHNlIGlmKG9wPT09ImludmVydCIpe3RoaXMuaXNJbnZlcnRlZD0xLXRoaXMuaXNJbnZlcnRlZDtbQ09MT1JfQkxBQ0ssQ09MT1JfV0hJVEVdPVtDT0xPUl9XSElURSxDT0xPUl9CTEFDS107cmV0dXJuIHRoaXMuaXNJbnZlcnRlZH1lbHNlIGlmKG9wPT09InNoYWtlIil7dGhpcy5pc1NoYWtpbmc9dHJ1ZTtjb25zdCBkZWxheT1ydW4oYXJnc1swXSkqRlBTO3RoaXMuI3NjaGVkdWxlRnJhbWVUaW1lcigoKT0+e3RoaXMuaXNTaGFraW5nPWZhbHNlO2lmKGFyZ3NbMV0pcnVuKGFyZ3NbMV0pfSxkZWxheSl9ZWxzZSBpZihvcD09PSJmcmFtZSIpe2lmKGlzRGVmaW5lZChhcmdzWzBdKSl7Y29uc3QgZnJhbWVJeD1ydW4oYXJnc1swXSk7aWYoY29udGV4dC5zZWxmPT10aGlzLnBsYXllclNjcmlwdCl7dGhpcy5wbGF5ZXIuZnJhbWVJeD1mcmFtZUl4fWVsc2UgaWYoaXNYWShjb250ZXh0KSl7dGhpcy4jc2V0RnJhbWVBdChjb250ZXh0LngsY29udGV4dC55LGZyYW1lSXgpfWVsc2V7ZmFpbCgiQ2FuIG9ubHkgc2V0IEZSQU1FIG9uIGEgdGlsZSBpbnN0YW5jZSIpfX1lbHNle2lmKGNvbnRleHQuc2VsZj09dGhpcy5wbGF5ZXJTY3JpcHQpe3JldHVybiB0aGlzLnBsYXllci5mcmFtZUl4Pz9nZXRDdXJyZW50RnJhbWVJbmRleEZvclRpbGUodGhpcy5wbGF5ZXIudGlsZSx0aGlzLmZyYW1lSXgpfWVsc2UgaWYoaXNYWShjb250ZXh0KSl7cmV0dXJuIHRoaXMuI2dldEZyYW1lQXQoY29udGV4dC54LGNvbnRleHQueSl9ZWxzZXtmYWlsKCJDYW4gb25seSBnZXQgRlJBTUUgb24gYSB0aWxlIGluc3RhbmNlIil9fX1lbHNlIGlmKG9wPT09InBsYXkiKXtjb25zdCBuZXdUaWxlPXRoaXMuZ2V0VGlsZShydW4oYXJnc1swXSkpO2NvbnN0IGRlbGF5PUZQUy9uZXdUaWxlLmZwcztuZXdUaWxlLmZwcz0wO2lmKGNvbnRleHQuc2VsZj09dGhpcy5wbGF5ZXJTY3JpcHQpe3RoaXMucGxheWVyLnZpc3VhbD1uZXdUaWxlO3RoaXMucGxheWVyLmZyYW1lSXg9MDtuZXdUaWxlLmZyYW1lcy5mb3JFYWNoKChmcmFtZSxpeCk9Pnt0aGlzLiNzY2hlZHVsZUZyYW1lVGltZXIoKCk9Pnt0aGlzLnBsYXllci5mcmFtZUl4PWl4fSxpeCpkZWxheSl9KX1lbHNlIGlmKGlzWFkoY29udGV4dCkpe3RoaXMuc3dhcFRpbGVBdChjb250ZXh0LngsY29udGV4dC55LG5ld1RpbGUpO3RoaXMuI3NldEZyYW1lQXQoY29udGV4dC54LGNvbnRleHQueSwwKTtuZXdUaWxlLmZyYW1lcy5mb3JFYWNoKChmcmFtZSxpeCk9Pnt0aGlzLiNzY2hlZHVsZUZyYW1lVGltZXIoKCk9Pnt0aGlzLiNzZXRGcmFtZUF0KGNvbnRleHQueCxjb250ZXh0LnksaXgpfSxpeCpkZWxheSl9KX1lbHNle2ZhaWwoIkNhbiBvbmx5IGNhbGwgUExBWSBvbiBhIHRpbGUgaW5zdGFuY2UiKTtyZXR1cm59aWYoYXJnc1sxXSl7dGhpcy4jc2NoZWR1bGVGcmFtZVRpbWVyKCgpPT57cnVuKGFyZ3NbMV0pfSxuZXdUaWxlLmZyYW1lcy5sZW5ndGgqZGVsYXkpfX1lbHNlIGlmKG9wPT09InJhbmRvbSIpe3JldHVybiByYW5kb21JbnQocnVuKGFyZ3NbMF0pLHJ1bihhcmdzWzFdKSl9ZWxzZSBpZihvcD09PSJzaW5lIil7cmV0dXJuIE1hdGguc2luKHJ1bihhcmdzWzBdKSl9ZWxzZSBpZihvcD09PSJjb3NpbmUiKXtyZXR1cm4gTWF0aC5jb3MocnVuKGFyZ3NbMF0pKX1lbHNlIGlmKG9wPT09InRhbmdlbnQiKXtyZXR1cm4gTWF0aC50YW4ocnVuKGFyZ3NbMF0pKX1lbHNlIGlmKG9wPT09InJhZGlhbnMiKXtyZXR1cm4gcnVuKGFyZ3NbMF0pKk1hdGguUEkvMTgwfWVsc2UgaWYob3A9PT0iZGVncmVlcyIpe3JldHVybiBydW4oYXJnc1swXSkqMTgwL01hdGguUEl9ZWxzZSBpZihvcD09PSJpbmMiKXtyZXR1cm4gdXBkYXRlVmFsdWVPZihhcmdzWzBdLHg9PngrMSl9ZWxzZSBpZihvcD09PSJkZWMiKXtyZXR1cm4gdXBkYXRlVmFsdWVPZihhcmdzWzBdLHg9PngtMSl9ZWxzZSBpZihvcD09PSJhZGQiKXtyZXR1cm4gdXBkYXRlVmFsdWVPZihhcmdzWzBdLHg9PngrcnVuKGFyZ3NbMV0pKX1lbHNlIGlmKG9wPT09InN1YiIpe3JldHVybiB1cGRhdGVWYWx1ZU9mKGFyZ3NbMF0seD0+eC1ydW4oYXJnc1sxXSkpfWVsc2UgaWYob3A9PT0ibXVsIil7cmV0dXJuIHVwZGF0ZVZhbHVlT2YoYXJnc1swXSx4PT54KnJ1bihhcmdzWzFdKSl9ZWxzZSBpZihvcD09PSJkaXYiKXtyZXR1cm4gdXBkYXRlVmFsdWVPZihhcmdzWzBdLHg9PngvcnVuKGFyZ3NbMV0pKX1lbHNlIGlmKG9wPT09ImZsb29yIil7cmV0dXJuIE1hdGguZmxvb3IocnVuKGFyZ3NbMF0pKX1lbHNlIGlmKG9wPT09ImNlaWwiKXtyZXR1cm4gTWF0aC5jZWlsKHJ1bihhcmdzWzBdKSl9ZWxzZSBpZihvcD09PSJyb3VuZCIpe3JldHVybiBNYXRoLnJvdW5kKHJ1bihhcmdzWzBdKSl9ZWxzZSBpZihvcD09PSJmb3JtYXQiKXtyZXR1cm4gYXJncy5yZWR1Y2UoKHN0cixwYXJ0KT0+YCR7c3RyfSR7cnVuKHBhcnQpfWAsIiIpfWVsc2UgaWYob3A9PT0ibHBhZCIpe3JldHVybiBydW4oYXJnc1swXSkudG9TdHJpbmcoKS5wYWRTdGFydChhcmdzWzFdLGFyZ3NbMl0pfWVsc2UgaWYob3A9PT0icnBhZCIpe3JldHVybiBydW4oYXJnc1swXSkudG9TdHJpbmcoKS5wYWRFbmQoYXJnc1sxXSxhcmdzWzJdKX1lbHNlIGlmKG9wPT09ImVtYmVkIil7Y29uc3QgdGlsZT10aGlzLmdldFRpbGUoYXJnc1swXSk7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoMTI4K3RpbGUuaWQpfWVsc2UgaWYob3A9PT0iZG9uZSIpe3RoaXMuY2FsbGVkRG9uZT10cnVlfWVsc2V7aWYob3AgaW4gYWxyZWFkeVdhcm5lZEZvclVua25vd25FeHByZXNzaW9uVHlwZSlyZXR1cm47YWxyZWFkeVdhcm5lZEZvclVua25vd25FeHByZXNzaW9uVHlwZVtvcF09dHJ1ZTt3YXJuKGBVbmtub3duIGV4cHJlc3Npb24gdHlwZTogJHtvcH1gKTt3YXJuKEpTT04uc3RyaW5naWZ5KGV4cHIpKX19cnVuU2NyaXB0KHNjcmlwdCxuYW1lLGN0eD17fSl7aWYoIXNjcmlwdClyZXR1cm47Y29uc3QgY29udGV4dD17Li4udGhpcy5ldmVudCxzZWxmOnNjcmlwdCwuLi5jdHgsbmFtZTpuYW1lfTtjb25zdCBhbnlFeHByPXNjcmlwdC5hbnk7aWYoYW55RXhwcil7dGhpcy5ydW5FeHByZXNzaW9uKGFueUV4cHIsc2NyaXB0Ll9fYmxvY2tzLGNvbnRleHQpO3RoaXMuY2FsbGVkRG9uZT1mYWxzZX1jb25zdCBleHByPXNjcmlwdFtuYW1lXTtpZihleHByKXt0aGlzLnJ1bkV4cHJlc3Npb24oZXhwcixzY3JpcHQuX19ibG9ja3MsY29udGV4dCk7dGhpcy5jYWxsZWREb25lPWZhbHNlfX0jcnVuUGxheWVyU2NyaXB0KG5hbWUsY3R4KXt0aGlzLnJ1blNjcmlwdCh0aGlzLnBsYXllclNjcmlwdCxuYW1lLHsuLi5jdHgseDp0aGlzLnBsYXllci54LHk6dGhpcy5wbGF5ZXIueSx0aWxlOnRoaXMucGxheWVyLnRpbGUubmFtZX0pfWVtaXQobmFtZSxjdHg9e30pe3RoaXMucnVuU2NyaXB0KHRoaXMuZ2FtZVNjcmlwdCxuYW1lKTt0aGlzLnJ1blNjcmlwdCh0aGlzLnJvb20uc2NyaXB0LG5hbWUpO3RoaXMucm9vbS50aWxlcy5mb3JFYWNoKCh0aWxlLGl4KT0+e2NvbnN0W3gseV09aW5kZXhUb0Nvb3JkKGl4KTt0aGlzLnJ1blNjcmlwdCh0aWxlLnNjcmlwdCxuYW1lLHsuLi5jdHgseDp4LHk6eSx0aWxlOnRpbGUubmFtZX0pfSk7dGhpcy4jcnVuUGxheWVyU2NyaXB0KG5hbWUsY3R4KX1hY3QoKXtjb25zdHtweDpweCxweTpweSxkeDpkeCxkeTpkeX09dGhpcy5ldmVudDtjb25zdCB0eD1weCtkeDtjb25zdCB0eT1weStkeTtjb25zdCB0YXJnZXQ9dGhpcy5nZXRUaWxlQXQodHgsdHkpO2lmKHRhcmdldCl7dGhpcy4jYWN0T24odGFyZ2V0LHR4LHR5KX19I2FjdE9uKHRhcmdldCx4LHkpe2NvbnN0IGN0eD17dGlsZTp0YXJnZXQubmFtZSx4OngseTp5fTtpZih0YXJnZXQuc2NyaXB0KXt0aGlzLnJ1blNjcmlwdCh0YXJnZXQuc2NyaXB0LCJpbnRlcmFjdCIsY3R4KX1lbHNle2lmKGlzRGVmaW5lZCh0YXJnZXQuc291bmQpKXt0aGlzLnBsYXlTb3VuZCh0YXJnZXQuc291bmQpfWlmKHRhcmdldC5zYXlzKXtjb25zdCBtZXNzYWdlPXRoaXMucnVuRXhwcmVzc2lvbih0YXJnZXQuc2F5cyxudWxsLHsuLi50aGlzLmV2ZW50LC4uLmN0eH0pO3RoaXMuc2F5KG1lc3NhZ2UpfX19I2NvbGxlY3QodGFyZ2V0LHgseSl7Y29uc3QgY3R4PXt0aWxlOnRhcmdldC5uYW1lLHg6eCx5Onl9O2lmKHRhcmdldC5zY3JpcHQpe3RoaXMucnVuU2NyaXB0KHRhcmdldC5zY3JpcHQsImNvbGxlY3QiLGN0eCl9ZWxzZXtjb25zdCBrZXlOYW1lPWAke3RhcmdldC5uYW1lfXNgO2NvbnN0IGNvdW50ZXI9dGhpcy5nbG9iYWxzW2tleU5hbWVdPz8wO3RoaXMuZ2xvYmFsc1trZXlOYW1lXT1jb3VudGVyKzE7dGhpcy5yb29tLnRpbGVzW2Nvb3JkVG9JbmRleCh4LHkpXT10aGlzLmJhY2tncm91bmRUaWxlO2lmKGlzRGVmaW5lZCh0YXJnZXQuc291bmQpKXt0aGlzLnBsYXlTb3VuZCh0YXJnZXQuc291bmQpfWlmKHRhcmdldC5zYXlzKXtjb25zdCBtZXNzYWdlPXRoaXMucnVuRXhwcmVzc2lvbih0YXJnZXQuc2F5cyxudWxsLHsuLi50aGlzLmV2ZW50LC4uLmN0eH0pO3RoaXMuc2F5KG1lc3NhZ2UpfX19I2VudGVyKHJvb20pe3RoaXMucm9vbT1yb29tO3RoaXMuZnJhbWVPdmVycmlkZXM9e307dGhpcy5wbGF5ZXIucm9vbT10aGlzLnJvb20uaWQ7dGhpcy5ldmVudC5yb29tPXRoaXMucm9vbS5uYW1lO3RoaXMuI2NoYW5nZUxvb3AodGhpcy5yb29tLnNvbmcpO3RoaXMuZW1pdCgiZW50ZXIiKX1nb3RvKHgseSxyb29tKXtpZihpc0RlZmluZWQocm9vbSkpe3RoaXMuZW1pdCgiZXhpdCIpO3RoaXMuc3RvcmUoKTt0aGlzLnJvb21UcmFuc2l0aW9uPXRoaXMuZ2V0Um9vbShyb29tKX10aGlzLnBsYXllci54PXg7dGhpcy5wbGF5ZXIueT15O3RoaXMuZXZlbnQ9ey4uLnRoaXMuZXZlbnQscm9vbTp0aGlzLnJvb20ubmFtZSxweDp4LHB5OnksdHg6eCx0eTp5fX0jbW92ZVBsYXllcihkeCxkeSl7aWYoZHg9PTAmJmR5PT0wKXJldHVybjtpZihkeCE9PTAmJmR5IT09MClkeD0wO2xldCB0eD10aGlzLnBsYXllci54K2R4O2xldCB0eT10aGlzLnBsYXllci55K2R5O2xldCBjYW5Nb3ZlPXRydWU7aWYodHg8MCl7dHg9MDtjYW5Nb3ZlPWZhbHNlfWlmKHR4Pj1ST09NX1dJRFRIKXt0eD1ST09NX1dJRFRILTE7Y2FuTW92ZT1mYWxzZX1pZih0eTwwKXt0eT0wO2Nhbk1vdmU9ZmFsc2V9aWYodHk+PVJPT01fSEVJR0hUKXt0eT1ST09NX0hFSUdIVC0xO2Nhbk1vdmU9ZmFsc2V9dGhpcy5ldmVudD17Li4udGhpcy5ldmVudCxkeDpkeCxkeTpkeSx0eDp0eCx0eTp0eSx4OnR4LHk6dHl9O2NvbnN0IHRhcmdldD10aGlzLmdldFRpbGVBdCh0eCx0eSk7aWYodGFyZ2V0LnNvbGlkKXtjYW5Nb3ZlPWZhbHNlfWNvbnN0IHByZXZYPXRoaXMucGxheWVyLng7Y29uc3QgcHJldlk9dGhpcy5wbGF5ZXIueTtpZihjYW5Nb3ZlKXt0aGlzLnBsYXllci54PXR4O3RoaXMucGxheWVyLnk9dHk7dGhpcy5ldmVudC5weD10aGlzLnBsYXllci54O3RoaXMuZXZlbnQucHk9dGhpcy5wbGF5ZXIueX10aGlzLiNydW5QbGF5ZXJTY3JpcHQoInVwZGF0ZSIpO2xldCBzaG91bGRCdW1wPWZhbHNlO2lmKHRhcmdldC50eXBlPT0yKXtpZih0aGlzLmNvbmZpZy5hdXRvQWN0KXt0aGlzLiNhY3RPbih0YXJnZXQsdHgsdHkpfX1lbHNlIGlmKHRhcmdldC50eXBlPT0zKXt0aGlzLiNjb2xsZWN0KHRhcmdldCx0eCx0eSl9ZWxzZSBpZighY2FuTW92ZSl7c2hvdWxkQnVtcD10cnVlfXRoaXMuZXZlbnQudHg9dGhpcy5wbGF5ZXIueCtkeDt0aGlzLmV2ZW50LnR5PXRoaXMucGxheWVyLnkrZHk7dGhpcy5yb29tLmV4aXRzLmZvckVhY2goZXhpdD0+e2lmKGlzRGVmaW5lZChleGl0LmVkZ2UpKXtpZihleGl0LmVkZ2U9PUVkZ2VEaXJlY3Rpb24uVVApe2lmKHByZXZZPT1leGl0LnkmJmR5PDApe3RoaXMuZ290byhwcmV2WCxleGl0LnR5LGV4aXQucm9vbSl9fWVsc2UgaWYoZXhpdC5lZGdlPT1FZGdlRGlyZWN0aW9uLlJJR0hUKXtpZihwcmV2WD09ZXhpdC54JiZkeD4wKXt0aGlzLmdvdG8oZXhpdC50eCxwcmV2WSxleGl0LnJvb20pfX1lbHNlIGlmKGV4aXQuZWRnZT09RWRnZURpcmVjdGlvbi5ET1dOKXtpZihwcmV2WT09ZXhpdC55JiZkeT4wKXt0aGlzLmdvdG8ocHJldlgsZXhpdC50eSxleGl0LnJvb20pfX1lbHNlIGlmKGV4aXQuZWRnZT09RWRnZURpcmVjdGlvbi5MRUZUKXtpZihwcmV2WD09ZXhpdC54JiZkeDwwKXt0aGlzLmdvdG8oZXhpdC50eCxwcmV2WSxleGl0LnJvb20pfX19ZWxzZSBpZih0eD09ZXhpdC54JiZ0eT09ZXhpdC55KXtpZihleGl0LmZpbil7dGhpcy4jY2hhbmdlTG9vcChleGl0LnNvbmcpO3RoaXMuZmluKGV4aXQuZmluKX1lbHNle3RoaXMuZ290byhleGl0LnR4LGV4aXQudHksZXhpdC5yb29tKX19fSk7aWYoc2hvdWxkQnVtcCYmIXRoaXMucm9vbVRyYW5zaXRpb24pe3RoaXMuI3J1blBsYXllclNjcmlwdCgiYnVtcCIpfX1wcmVzc0tleShrZXkpe3RoaXMuaW5wdXRba2V5XS5wcmVzcygpfXJlbGVhc2VLZXkoa2V5KXt0aGlzLmlucHV0W2tleV0ucmVsZWFzZSgpfSNjbGVhcklucHV0KCl7dGhpcy5pbnB1dFtCdXR0b24uVVBdLnJlbGVhc2UoKTt0aGlzLmlucHV0W0J1dHRvbi5SSUdIVF0ucmVsZWFzZSgpO3RoaXMuaW5wdXRbQnV0dG9uLkRPV05dLnJlbGVhc2UoKTt0aGlzLmlucHV0W0J1dHRvbi5MRUZUXS5yZWxlYXNlKCk7dGhpcy5pbnB1dFtCdXR0b24uQV0ucmVsZWFzZSgpO3RoaXMuaW5wdXRbQnV0dG9uLkJdLnJlbGVhc2UoKX0jdXBkYXRlSW5wdXQoKXtjb25zdCBpbnB1dFJlcGVhdD10aGlzLmNvbmZpZy5pbnB1dFJlcGVhdDtjb25zdCBpbnB1dFJlcGVhdERlbGF5PXRoaXMuY29uZmlnLmlucHV0UmVwZWF0RGVsYXk7Y29uc3QgaW5wdXRSZXBlYXRCZXR3ZWVuPXRoaXMuY29uZmlnLmlucHV0UmVwZWF0QmV0d2VlbjtsZXQgZHg9MDtsZXQgZHk9MDtsZXQgY29uZmlybVByZXNzZWQ9ZmFsc2U7bGV0IGNhbmNlbFByZXNzZWQ9ZmFsc2U7bGV0IGFueXRoaW5nUHJlc3NlZD1mYWxzZTtpZih0aGlzLmlucHV0W0J1dHRvbi5VUF0uY2hlY2soaW5wdXRSZXBlYXQsaW5wdXRSZXBlYXREZWxheSxpbnB1dFJlcGVhdEJldHdlZW4pKXtkeS0tO2FueXRoaW5nUHJlc3NlZD10cnVlfWlmKHRoaXMuaW5wdXRbQnV0dG9uLkRPV05dLmNoZWNrKGlucHV0UmVwZWF0LGlucHV0UmVwZWF0RGVsYXksaW5wdXRSZXBlYXRCZXR3ZWVuKSl7ZHkrKzthbnl0aGluZ1ByZXNzZWQ9dHJ1ZX1pZih0aGlzLmlucHV0W0J1dHRvbi5SSUdIVF0uY2hlY2soaW5wdXRSZXBlYXQsaW5wdXRSZXBlYXREZWxheSxpbnB1dFJlcGVhdEJldHdlZW4pKXtkeCsrO2FueXRoaW5nUHJlc3NlZD10cnVlfWlmKHRoaXMuaW5wdXRbQnV0dG9uLkxFRlRdLmNoZWNrKGlucHV0UmVwZWF0LGlucHV0UmVwZWF0RGVsYXksaW5wdXRSZXBlYXRCZXR3ZWVuKSl7ZHgtLTthbnl0aGluZ1ByZXNzZWQ9dHJ1ZX1pZih0aGlzLmlucHV0W0J1dHRvbi5BXS5jaGVjayhpbnB1dFJlcGVhdCxpbnB1dFJlcGVhdERlbGF5LGlucHV0UmVwZWF0QmV0d2Vlbikpe2FueXRoaW5nUHJlc3NlZD10cnVlO2NvbmZpcm1QcmVzc2VkPXRydWV9aWYodGhpcy5pbnB1dFtCdXR0b24uQl0uY2hlY2soaW5wdXRSZXBlYXQsaW5wdXRSZXBlYXREZWxheSxpbnB1dFJlcGVhdEJldHdlZW4pKXthbnl0aGluZ1ByZXNzZWQ9dHJ1ZTtjYW5jZWxQcmVzc2VkPXRydWV9aWYoIXRoaXMuaXNSdW5uaW5nfHx0aGlzLmlzUGF1c2VkKXJldHVybjtpZighYW55dGhpbmdQcmVzc2VkKXJldHVybjtpZih0aGlzLmFkdmFuY2VTYXkoKSlyZXR1cm47aWYodGhpcy5pc0lnbm9yZWQpcmV0dXJuO2lmKGR4IT09MHx8ZHkhPT0wKXt0aGlzLiNtb3ZlUGxheWVyKGR4LGR5KX1lbHNlIGlmKGNvbmZpcm1QcmVzc2VkKXt0aGlzLiNydW5QbGF5ZXJTY3JpcHQoImNvbmZpcm0iKX1lbHNlIGlmKGNhbmNlbFByZXNzZWQpe3RoaXMuI3J1blBsYXllclNjcmlwdCgiY2FuY2VsIil9fSNyZW5kZXJXaW5kb3coeCx5LHcsaCxzaG93QXJyb3cpe2NvbnN0IHRpbGVtYXA9dGhpcy50aWxlQnVmZmVyO2NvbnN0IGxlZnQ9eDtjb25zdCByaWdodD14K3ctMTtjb25zdCB0b3A9eTtjb25zdCBib3R0b209eStoLTE7dGlsZW1hcFtjb29yZFRvSW5kZXgobGVmdCx0b3ApXT10aGlzLmNhcnQuZm9udC5waXBlWzBdO3RpbGVtYXBbY29vcmRUb0luZGV4KHJpZ2h0LHRvcCldPXRoaXMuY2FydC5mb250LnBpcGVbMl07Zm9yKGxldCBkeD0xO2R4PHctMTtkeCsrKXt0aWxlbWFwW2Nvb3JkVG9JbmRleChsZWZ0K2R4LHRvcCldPXRoaXMuY2FydC5mb250LnBpcGVbMV07dGlsZW1hcFtjb29yZFRvSW5kZXgobGVmdCtkeCxib3R0b20pXT10aGlzLmNhcnQuZm9udC5waXBlWzddfWZvcihsZXQgZHk9MTtkeTxoO2R5Kyspe3RpbGVtYXBbY29vcmRUb0luZGV4KGxlZnQsdG9wK2R5KV09dGhpcy5jYXJ0LmZvbnQucGlwZVszXTt0aWxlbWFwW2Nvb3JkVG9JbmRleChyaWdodCx0b3ArZHkpXT10aGlzLmNhcnQuZm9udC5waXBlWzVdfXRpbGVtYXBbY29vcmRUb0luZGV4KGxlZnQsYm90dG9tKV09dGhpcy5jYXJ0LmZvbnQucGlwZVs2XTt0aWxlbWFwW2Nvb3JkVG9JbmRleChyaWdodCxib3R0b20pXT10aGlzLmNhcnQuZm9udC5waXBlWzhdO2lmKHNob3dBcnJvdyl7Y29uc3QgYXJyb3dJeD05K01hdGguZmxvb3IodGhpcy5kaWFsb2dGcmFtZUl4LzEwKSUyO3RpbGVtYXBbY29vcmRUb0luZGV4KHJpZ2h0LTEsYm90dG9tKV09dGhpcy5jYXJ0LmZvbnQucGlwZVthcnJvd0l4XX1mb3IobGV0IHl5PXRvcCsxO3l5PGJvdHRvbTt5eSsrKXtmb3IobGV0IHh4PWxlZnQrMTt4eDxyaWdodDt4eCsrKXt0aWxlbWFwW2Nvb3JkVG9JbmRleCh4eCx5eSldPXRoaXMuY2FydC5mb250LnBpcGVbNF19fX0jcmVuZGVyU2F5VGV4dCh4LHksdyxoKXtsZXQgeHg9eDtsZXQgeXk9eTtsZXQgdGV4dD10aGlzLmRpYWxvZ1RleHQuc3Vic3RyaW5nKDAsdGhpcy5kaWFsb2dUZXh0SXgpO2ZvcihsZXQgaT0wO2k8dGV4dC5sZW5ndGg7aSsrKXtsZXQgZ2x5cGg9dGV4dC5jaGFyQ29kZUF0KGkpO2lmKHh4Pngrd3x8Z2x5cGg9PTEwKXt4eD14O3l5Kyt9aWYoZ2x5cGg9PTEwKWNvbnRpbnVlO3RoaXMudGlsZUJ1ZmZlcltjb29yZFRvSW5kZXgoeHgseXkpXT0oZ2x5cGg+MTI4P3RoaXMuY2FydC50aWxlc1tnbHlwaC0xMjhdLmZyYW1lc1swXTp0aGlzLmNhcnQuZm9udC5jaGFyc1tnbHlwaC0zMl0pPz90aGlzLmJhY2tncm91bmRUaWxlO3h4Kyt9fXJlbmRlcigpe3RoaXMudGlsZUJ1ZmZlcj10aGlzLnJvb20udGlsZXMubWFwKCh0aWxlLGl4KT0+dGlsZS5mcmFtZXNbdGhpcy5mcmFtZU92ZXJyaWRlc1tpeF0/P2dldEN1cnJlbnRGcmFtZUluZGV4Rm9yVGlsZSh0aWxlLHRoaXMuZnJhbWVJeCldKTtpZih0aGlzLmlzUnVubmluZyYmdGhpcy5yb29tLmlkPT10aGlzLnBsYXllci5yb29tKXt0aGlzLmlzSGlkZGVuPWZhbHNlO3RoaXMuI3J1blBsYXllclNjcmlwdCgiZHJhdyIpO2lmKCF0aGlzLmlzSGlkZGVuKXtjb25zdCBwbGF5ZXJGcmFtZT1pc0RlZmluZWQodGhpcy5wbGF5ZXIuZnJhbWVJeCk/dGhpcy5wbGF5ZXIudmlzdWFsLmZyYW1lc1t0aGlzLnBsYXllci5mcmFtZUl4XTpnZXRDdXJyZW50RnJhbWVGb3JUaWxlKHRoaXMucGxheWVyLnZpc3VhbCx0aGlzLmZyYW1lSXgpO2NvbnN0IHRpPWNvb3JkVG9JbmRleCh0aGlzLnBsYXllci54LHRoaXMucGxheWVyLnkpO3RoaXMudGlsZUJ1ZmZlclt0aV09cGxheWVyRnJhbWUubWFwKChmZyxwaSk9PmZnPT0yP3RoaXMudGlsZUJ1ZmZlclt0aV1bcGldOmZnKX19aWYodGhpcy5kaWFsb2dBY3RpdmUpe2NvbnN0W3d4LHd5LHd3LHdoXT10aGlzLmRpYWxvZ1dpbmRvd1NpemU7Y29uc3Qgc2hvd0Fycm93PXRoaXMuZGlhbG9nVGV4dEl4Pj10aGlzLmRpYWxvZ1RleHQubGVuZ3RoO3RoaXMuI3JlbmRlcldpbmRvdyh3eCx3eSx3dysyLHdoKzIsc2hvd0Fycm93KTt0aGlzLiNyZW5kZXJTYXlUZXh0KHd4KzEsd3krMSx3dyx3aCl9dGhpcy4jZHJhd1RvQ2FudmFzKCl9I2RyYXdUb0NhbnZhcygpe2NvbnN0IHRpbGVtYXA9dGhpcy50aWxlQnVmZmVyO2NvbnN0IGltZ0RhdGE9bmV3IEltYWdlRGF0YShQSVhFTF9XSURUSCxQSVhFTF9IRUlHSFQpO2NvbnN0IHBpeGVscz1pbWdEYXRhLmRhdGE7Zm9yKGxldCB5PTA7eTxQSVhFTF9IRUlHSFQ7eSsrKXtjb25zdCB0eT1NYXRoLmZsb29yKHkvQ0VMTF9TSVpFKTtjb25zdCBweT15JUNFTExfU0laRTtmb3IobGV0IHg9MDt4PFBJWEVMX1dJRFRIO3grKyl7Y29uc3QgdHg9TWF0aC5mbG9vcih4L0NFTExfU0laRSk7Y29uc3QgcHg9eCVDRUxMX1NJWkU7Y29uc3QgdGk9dHgrUk9PTV9XSURUSCp0eTtjb25zdCBwaT1weCtDRUxMX1NJWkUqcHk7Y29uc3QgYXJyPXRpbGVtYXBbdGldO2NvbnN0IGNvbD1hcnJbcGldO2NvbnN0W3IsZyxiLGFdPWNvbD09MT9DT0xPUl9CTEFDSzpDT0xPUl9XSElURTtsZXQgaXg9eCt5KlBJWEVMX1dJRFRIO3BpeGVsc1tpeCo0XT1yO3BpeGVsc1tpeCo0KzFdPWc7cGl4ZWxzW2l4KjQrMl09YjtwaXhlbHNbaXgqNCszXT1hfX1sZXRbc2hha2VYLHNoYWtlWV09WzAsMF07aWYodGhpcy5pc1NoYWtpbmcpe1tzaGFrZVgsc2hha2VZXT1bcmFuZG9tSW50KC0yLDIpLHJhbmRvbUludCgtMiwyKV19dGhpcy5jdHgyZC5jbGVhclJlY3QoMCwwLFBJWEVMX1dJRFRILFBJWEVMX0hFSUdIVCk7dGhpcy5jdHgyZC5wdXRJbWFnZURhdGEoaW1nRGF0YSxzaGFrZVgsc2hha2VZKX19bGV0IHRvdWNoRG93blg9bnVsbDtsZXQgdG91Y2hEb3duWT1udWxsO2NvbnN0IGhhbmRsZVRvdWNoU3RhcnQ9ZXZ0PT57Y29uc3QgZmlyc3RUb3VjaD1ldnQudG91Y2hlc1swXTt0b3VjaERvd25YPWZpcnN0VG91Y2guY2xpZW50WDt0b3VjaERvd25ZPWZpcnN0VG91Y2guY2xpZW50WX07Y29uc3QgaGFuZGxlVG91Y2hNb3ZlPWV2dD0+e2lmKCF0b3VjaERvd25YfHwhdG91Y2hEb3duWSl7cmV0dXJufWNvbnN0IGR4PXRvdWNoRG93blgtZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDtjb25zdCBkeT10b3VjaERvd25ZLWV2dC50b3VjaGVzWzBdLmNsaWVudFk7aWYoTWF0aC5hYnMoZHgpPk1hdGguYWJzKGR5KSl7ZW11bGF0ZUtleVByZXNzKGR4PjA/IkFycm93TGVmdCI6IkFycm93UmlnaHQiKX1lbHNle2VtdWxhdGVLZXlQcmVzcyhkeT4wPyJBcnJvd1VwIjoiQXJyb3dEb3duIil9dG91Y2hEb3duWD1udWxsO3RvdWNoRG93blk9bnVsbH07Y29uc3QgZW11bGF0ZUtleVByZXNzPWtleT0+e3dpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBLZXlib2FyZEV2ZW50KCJrZXlkb3duIix7a2V5OmtleX0pKTtzZXRUaW1lb3V0KCgpPT57d2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEtleWJvYXJkRXZlbnQoImtleXVwIix7a2V5OmtleX0pKX0sNTApfTtmdW5jdGlvbiBhdHRhY2hUb3VjaEdlc3R1cmVzKGVsZW0pe2VsZW0uYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsaGFuZGxlVG91Y2hTdGFydCxmYWxzZSk7ZWxlbS5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLGhhbmRsZVRvdWNoTW92ZSxmYWxzZSl9d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCgpPT57Y29uc3QgbWFpbj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibWFpbiIpWzBdO2NvbnN0IGxjZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGNkIik7aWYodHlwZW9mIGF0dGFjaFRvdWNoR2VzdHVyZXMhPSJ1bmRlZmluZWQiKXthdHRhY2hUb3VjaEdlc3R1cmVzKGxjZCl9Y29uc3QgZ2FtZT1aZXN0LmxvYWQoZ2FtZURhdGEsbGNkKTtjb25zdCBjbGlja1N0YXJ0PSgpPT57bWFpbi5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsY2xpY2tTdGFydCk7bWFpbi5jbGFzc05hbWU9ImNsaWNrZWQiO1plc3RBdWRpby5lbmFibGUoKTtnYW1lLnBsYXkoKX07bWFpbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsY2xpY2tTdGFydCk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLGU9PntpZihlLmtleS5zdGFydHNXaXRoKCJBcnJvdyIpKXtlLnByZXZlbnREZWZhdWx0KCl9aWYoZS5yZXBlYXQpcmV0dXJuO2lmKGUua2V5PT0iQXJyb3dVcCIpZ2FtZS5wcmVzc0tleShCdXR0b24uVVApO2lmKGUua2V5PT0iQXJyb3dEb3duIilnYW1lLnByZXNzS2V5KEJ1dHRvbi5ET1dOKTtpZihlLmtleT09IkFycm93TGVmdCIpZ2FtZS5wcmVzc0tleShCdXR0b24uTEVGVCk7aWYoZS5rZXk9PSJBcnJvd1JpZ2h0IilnYW1lLnByZXNzS2V5KEJ1dHRvbi5SSUdIVCk7aWYoZS5rZXk9PSJhIilnYW1lLnByZXNzS2V5KEJ1dHRvbi5CKTtpZihlLmtleT09InMiKWdhbWUucHJlc3NLZXkoQnV0dG9uLkEpfSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIixlPT57aWYoZS5rZXk9PSJBcnJvd1VwIilnYW1lLnJlbGVhc2VLZXkoQnV0dG9uLlVQKTtpZihlLmtleT09IkFycm93RG93biIpZ2FtZS5yZWxlYXNlS2V5KEJ1dHRvbi5ET1dOKTtpZihlLmtleT09IkFycm93TGVmdCIpZ2FtZS5yZWxlYXNlS2V5KEJ1dHRvbi5MRUZUKTtpZihlLmtleT09IkFycm93UmlnaHQiKWdhbWUucmVsZWFzZUtleShCdXR0b24uUklHSFQpO2lmKGUua2V5PT0iYSIpZ2FtZS5yZWxlYXNlS2V5KEJ1dHRvbi5CKTtpZihlLmtleT09InMiKWdhbWUucmVsZWFzZUtleShCdXR0b24uQSl9KX0pOzwvc2NyaXB0PjwvaGVhZD48Ym9keT48bWFpbj48Y2FudmFzIGlkPSJsY2QiIHdpZHRoPSIyMDAiIGhlaWdodD0iMTIwIj48L2NhbnZhcz48L21haW4+PC9ib2R5PjwvaHRtbD4K
`)
